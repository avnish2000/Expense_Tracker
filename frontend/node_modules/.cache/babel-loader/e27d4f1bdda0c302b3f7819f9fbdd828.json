{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Group } from \"../../../scene/group\";\nimport { Line } from \"../../../scene/shape/line\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { Selection } from \"../../../scene/selection\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport { Sector } from \"../../../scene/shape/sector\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { normalizeAngle180, toRadians } from \"../../../util/angle\";\nimport { Color } from \"../../../util/color\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive, Observable } from \"../../../util/observable\";\nimport { PolarSeries } from \"./polarSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { toTooltipHtml } from \"../../chart\";\nvar PieNodeTag;\n\n(function (PieNodeTag) {\n  PieNodeTag[PieNodeTag[\"Sector\"] = 0] = \"Sector\";\n  PieNodeTag[PieNodeTag[\"Callout\"] = 1] = \"Callout\";\n  PieNodeTag[PieNodeTag[\"Label\"] = 2] = \"Label\";\n})(PieNodeTag || (PieNodeTag = {}));\n\nvar PieSeriesLabel =\n/** @class */\nfunction (_super) {\n  __extends(PieSeriesLabel, _super);\n\n  function PieSeriesLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.offset = 3; // from the callout line\n\n    _this.minAngle = 20; // in degrees\n\n    return _this;\n  }\n\n  __decorate([reactive('change')], PieSeriesLabel.prototype, \"offset\", void 0);\n\n  __decorate([reactive('dataChange')], PieSeriesLabel.prototype, \"minAngle\", void 0);\n\n  return PieSeriesLabel;\n}(Label);\n\nvar PieSeriesCallout =\n/** @class */\nfunction (_super) {\n  __extends(PieSeriesCallout, _super);\n\n  function PieSeriesCallout() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.colors = [];\n    _this.length = 10;\n    _this.strokeWidth = 1;\n    return _this;\n  }\n\n  __decorate([reactive('change')], PieSeriesCallout.prototype, \"colors\", void 0);\n\n  __decorate([reactive('change')], PieSeriesCallout.prototype, \"length\", void 0);\n\n  __decorate([reactive('change')], PieSeriesCallout.prototype, \"strokeWidth\", void 0);\n\n  return PieSeriesCallout;\n}(Observable);\n\nvar PieSeries =\n/** @class */\nfunction (_super) {\n  __extends(PieSeries, _super);\n\n  function PieSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.radiusScale = new LinearScale();\n    _this.groupSelection = Selection.select(_this.group).selectAll();\n    /**\n     * The processed data that gets visualized.\n     */\n\n    _this.groupSelectionData = [];\n\n    _this.angleScale = function () {\n      var scale = new LinearScale(); // Each slice is a ratio of the whole, where all ratios add up to 1.\n\n      scale.domain = [0, 1]; // Add 90 deg to start the first pie at 12 o'clock.\n\n      scale.range = [-Math.PI, Math.PI].map(function (angle) {\n        return angle + Math.PI / 2;\n      });\n      return scale;\n    }(); // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n\n\n    _this.seriesItemEnabled = [];\n    _this.label = new PieSeriesLabel();\n    _this.callout = new PieSeriesCallout();\n    /**\n     * The key of the numeric field to use to determine the angle (for example,\n     * a pie slice angle).\n     */\n\n    _this.angleKey = '';\n    _this.angleName = '';\n    _this._fills = ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'];\n    _this._strokes = ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'];\n    _this.fillOpacity = 1;\n    _this.strokeOpacity = 1;\n    _this.lineDash = undefined;\n    _this.lineDashOffset = 0;\n    /**\n     * The series rotation in degrees.\n     */\n\n    _this.rotation = 0;\n    _this.outerRadiusOffset = 0;\n    _this.innerRadiusOffset = 0;\n    _this.strokeWidth = 1;\n    _this.highlightStyle = {\n      fill: 'yellow'\n    };\n\n    _this.addEventListener('update', _this.update, _this);\n\n    _this.label.addEventListener('change', _this.scheduleLayout, _this);\n\n    _this.label.addEventListener('dataChange', _this.scheduleData, _this);\n\n    _this.callout.addEventListener('change', _this.scheduleLayout, _this);\n\n    _this.addPropertyListener('data', function (event) {\n      if (event.value) {\n        event.source.seriesItemEnabled = event.value.map(function () {\n          return true;\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  Object.defineProperty(PieSeries.prototype, \"title\", {\n    get: function () {\n      return this._title;\n    },\n    set: function (value) {\n      var oldTitle = this._title;\n\n      if (oldTitle !== value) {\n        if (oldTitle) {\n          oldTitle.removeEventListener('change', this.scheduleLayout);\n          this.group.removeChild(oldTitle.node);\n        }\n\n        if (value) {\n          value.node.textBaseline = 'bottom';\n          value.addEventListener('change', this.scheduleLayout);\n          this.group.appendChild(value.node);\n        }\n\n        this._title = value;\n        this.scheduleLayout();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PieSeries.prototype, \"fills\", {\n    get: function () {\n      return this._fills;\n    },\n    set: function (values) {\n      this._fills = values;\n      this.strokes = values.map(function (color) {\n        return Color.fromString(color).darker().toHexString();\n      });\n      this.scheduleData();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PieSeries.prototype, \"strokes\", {\n    get: function () {\n      return this._strokes;\n    },\n    set: function (values) {\n      this._strokes = values;\n      this.callout.colors = values;\n      this.scheduleData();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  PieSeries.prototype.onHighlightChange = function () {\n    this.updateNodes();\n  };\n\n  PieSeries.prototype.setColors = function (fills, strokes) {\n    this.fills = fills;\n    this.strokes = strokes;\n    this.callout.colors = strokes;\n  };\n\n  PieSeries.prototype.getDomain = function (direction) {\n    if (direction === ChartAxisDirection.X) {\n      return this.angleScale.domain;\n    } else {\n      return this.radiusScale.domain;\n    }\n  };\n\n  PieSeries.prototype.processData = function () {\n    var _this = this;\n\n    var _a = this,\n        angleKey = _a.angleKey,\n        radiusKey = _a.radiusKey,\n        seriesItemEnabled = _a.seriesItemEnabled,\n        angleScale = _a.angleScale,\n        groupSelectionData = _a.groupSelectionData;\n\n    var data = angleKey && this.data ? this.data : [];\n    var angleData = data.map(function (datum, index) {\n      return seriesItemEnabled[index] && Math.abs(+datum[angleKey]) || 0;\n    });\n    var angleDataTotal = angleData.reduce(function (a, b) {\n      return a + b;\n    }, 0); // The ratios (in [0, 1] interval) used to calculate the end angle value for every pie slice.\n    // Each slice starts where the previous one ends, so we only keep the ratios for end angles.\n\n    var angleDataRatios = function () {\n      var sum = 0;\n      return angleData.map(function (datum) {\n        return sum += datum / angleDataTotal;\n      });\n    }();\n\n    var labelKey = this.label.enabled && this.labelKey;\n    var labelData = labelKey ? data.map(function (datum) {\n      return String(datum[labelKey]);\n    }) : [];\n    var useRadiusKey = !!radiusKey && !this.innerRadiusOffset;\n    var radiusData = [];\n\n    if (useRadiusKey) {\n      var radii = data.map(function (datum) {\n        return Math.abs(datum[radiusKey]);\n      });\n      var maxDatum_1 = Math.max.apply(Math, radii);\n      radiusData = radii.map(function (value) {\n        return value / maxDatum_1;\n      });\n    }\n\n    groupSelectionData.length = 0;\n    var rotation = toRadians(this.rotation);\n    var halfPi = Math.PI / 2;\n    var datumIndex = 0; // Simply use reduce here to pair up adjacent ratios.\n\n    angleDataRatios.reduce(function (start, end) {\n      var radius = useRadiusKey ? radiusData[datumIndex] : 1;\n      var startAngle = angleScale.convert(start) + rotation;\n      var endAngle = angleScale.convert(end) + rotation;\n      var midAngle = (startAngle + endAngle) / 2;\n      var span = Math.abs(endAngle - startAngle);\n      var midCos = Math.cos(midAngle);\n      var midSin = Math.sin(midAngle);\n      var labelMinAngle = toRadians(_this.label.minAngle);\n      var labelVisible = labelKey && span > labelMinAngle;\n      var midAngle180 = normalizeAngle180(midAngle); // Split the circle into quadrants like so: âŠ—\n\n      var quadrantStart = -3 * Math.PI / 4; // same as `normalizeAngle180(toRadians(-135))`\n\n      var textAlign;\n      var textBaseline;\n\n      if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n        textAlign = 'center';\n        textBaseline = 'bottom';\n      } else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n        textAlign = 'left';\n        textBaseline = 'middle';\n      } else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n        textAlign = 'center';\n        textBaseline = 'hanging';\n      } else {\n        textAlign = 'right';\n        textBaseline = 'middle';\n      }\n\n      groupSelectionData.push({\n        series: _this,\n        seriesDatum: data[datumIndex],\n        index: datumIndex,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle,\n        midAngle: midAngle,\n        midCos: midCos,\n        midSin: midSin,\n        label: labelVisible ? {\n          text: labelData[datumIndex],\n          textAlign: textAlign,\n          textBaseline: textBaseline\n        } : undefined\n      });\n      datumIndex++;\n      return end;\n    }, 0);\n    return true;\n  };\n\n  PieSeries.prototype.update = function () {\n    var chart = this.chart;\n    var visible = this.group.visible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n\n    if (!visible || !chart || chart.dataPending || chart.layoutPending) {\n      return;\n    }\n\n    this.radiusScale.range = [0, this.radius];\n    this.group.translationX = this.centerX;\n    this.group.translationY = this.centerY;\n    var title = this.title;\n\n    if (title) {\n      title.node.translationY = -this.radius - this.outerRadiusOffset - 2;\n      title.node.visible = title.enabled;\n    }\n\n    this.updateGroupSelection();\n    this.updateNodes();\n  };\n\n  PieSeries.prototype.updateGroupSelection = function () {\n    var updateGroups = this.groupSelection.setData(this.groupSelectionData);\n    updateGroups.exit.remove();\n    var enterGroups = updateGroups.enter.append(Group);\n    enterGroups.append(Sector).each(function (node) {\n      return node.tag = PieNodeTag.Sector;\n    });\n    enterGroups.append(Line).each(function (node) {\n      node.tag = PieNodeTag.Callout;\n      node.pointerEvents = PointerEvents.None;\n    });\n    enterGroups.append(Text).each(function (node) {\n      node.tag = PieNodeTag.Label;\n      node.pointerEvents = PointerEvents.None;\n    });\n    this.groupSelection = updateGroups.merge(enterGroups);\n  };\n\n  PieSeries.prototype.updateNodes = function () {\n    var _this = this;\n\n    if (!this.chart) {\n      return;\n    }\n\n    var _a = this,\n        fills = _a.fills,\n        strokes = _a.strokes,\n        fillOpacity = _a.fillOpacity,\n        strokeOpacity = _a.strokeOpacity,\n        strokeWidth = _a.strokeWidth,\n        outerRadiusOffset = _a.outerRadiusOffset,\n        innerRadiusOffset = _a.innerRadiusOffset,\n        radiusScale = _a.radiusScale,\n        callout = _a.callout,\n        shadow = _a.shadow,\n        _b = _a.highlightStyle,\n        fill = _b.fill,\n        stroke = _b.stroke,\n        centerOffset = _b.centerOffset,\n        angleKey = _a.angleKey,\n        radiusKey = _a.radiusKey,\n        formatter = _a.formatter;\n\n    var highlightedDatum = this.chart.highlightedDatum;\n    var minOuterRadius = Infinity;\n    var outerRadii = [];\n    var centerOffsets = [];\n    this.groupSelection.selectByTag(PieNodeTag.Sector).each(function (sector, datum, index) {\n      var radius = radiusScale.convert(datum.radius);\n      var outerRadius = Math.max(0, radius + outerRadiusOffset);\n      var highlighted = datum === highlightedDatum;\n      var sectorFill = highlighted && fill !== undefined ? fill : fills[index % fills.length];\n      var sectorStroke = highlighted && stroke !== undefined ? stroke : strokes[index % strokes.length];\n      var format = undefined;\n\n      if (minOuterRadius > outerRadius) {\n        minOuterRadius = outerRadius;\n      }\n\n      if (formatter) {\n        format = formatter({\n          datum: datum.seriesDatum,\n          fill: sectorFill,\n          stroke: sectorStroke,\n          strokeWidth: strokeWidth,\n          highlighted: highlighted,\n          angleKey: angleKey,\n          radiusKey: radiusKey\n        });\n      }\n\n      sector.outerRadius = outerRadius;\n      sector.innerRadius = Math.max(0, innerRadiusOffset ? radius + innerRadiusOffset : 0);\n      sector.startAngle = datum.startAngle;\n      sector.endAngle = datum.endAngle;\n      sector.fill = format && format.fill || sectorFill;\n      sector.stroke = format && format.stroke || sectorStroke;\n      sector.strokeWidth = format && format.strokeWidth !== undefined ? format.strokeWidth : strokeWidth;\n      sector.fillOpacity = fillOpacity;\n      sector.strokeOpacity = strokeOpacity;\n      sector.lineDash = _this.lineDash;\n      sector.lineDashOffset = _this.lineDashOffset;\n      sector.centerOffset = highlighted && centerOffset !== undefined ? centerOffset : 0;\n      sector.fillShadow = shadow;\n      sector.lineJoin = 'round';\n      outerRadii.push(outerRadius);\n      centerOffsets.push(sector.centerOffset);\n    });\n    var calloutColors = callout.colors,\n        calloutLength = callout.length,\n        calloutStrokeWidth = callout.strokeWidth;\n    this.groupSelection.selectByTag(PieNodeTag.Callout).each(function (line, datum, index) {\n      if (datum.label) {\n        var outerRadius = centerOffsets[index] + outerRadii[index];\n        line.strokeWidth = calloutStrokeWidth;\n        line.stroke = calloutColors[index % calloutColors.length];\n        line.x1 = datum.midCos * outerRadius;\n        line.y1 = datum.midSin * outerRadius;\n        line.x2 = datum.midCos * (outerRadius + calloutLength);\n        line.y2 = datum.midSin * (outerRadius + calloutLength);\n      } else {\n        line.stroke = undefined;\n      }\n    });\n    {\n      var _c = this.label,\n          offset_1 = _c.offset,\n          fontStyle_1 = _c.fontStyle,\n          fontWeight_1 = _c.fontWeight,\n          fontSize_1 = _c.fontSize,\n          fontFamily_1 = _c.fontFamily,\n          color_1 = _c.color;\n      this.groupSelection.selectByTag(PieNodeTag.Label).each(function (text, datum, index) {\n        var label = datum.label;\n\n        if (label) {\n          var outerRadius = outerRadii[index];\n          var labelRadius = centerOffsets[index] + outerRadius + calloutLength + offset_1;\n          text.fontStyle = fontStyle_1;\n          text.fontWeight = fontWeight_1;\n          text.fontSize = fontSize_1;\n          text.fontFamily = fontFamily_1;\n          text.text = label.text;\n          text.x = datum.midCos * labelRadius;\n          text.y = datum.midSin * labelRadius;\n          text.fill = color_1;\n          text.textAlign = label.textAlign;\n          text.textBaseline = label.textBaseline;\n        } else {\n          text.fill = undefined;\n        }\n      });\n    }\n  };\n\n  PieSeries.prototype.fireNodeClickEvent = function (datum) {\n    this.fireEvent({\n      type: 'nodeClick',\n      series: this,\n      datum: datum.seriesDatum,\n      angleKey: this.angleKey,\n      radiusKey: this.radiusKey\n    });\n  };\n\n  PieSeries.prototype.getTooltipHtml = function (nodeDatum) {\n    var angleKey = this.angleKey;\n\n    if (!angleKey) {\n      return '';\n    }\n\n    var _a = this,\n        fills = _a.fills,\n        tooltipRenderer = _a.tooltipRenderer,\n        angleName = _a.angleName,\n        radiusKey = _a.radiusKey,\n        radiusName = _a.radiusName,\n        labelKey = _a.labelKey,\n        labelName = _a.labelName;\n\n    var color = fills[nodeDatum.index % fills.length];\n    var datum = nodeDatum.seriesDatum;\n    var label = labelKey ? datum[labelKey] + \": \" : '';\n    var angleValue = datum[angleKey];\n    var formattedAngleValue = typeof angleValue === 'number' ? toFixed(angleValue) : angleValue.toString();\n    var title = this.title ? this.title.text : undefined;\n    var content = label + formattedAngleValue;\n    var defaults = {\n      title: title,\n      titleBackgroundColor: color,\n      content: content\n    };\n\n    if (tooltipRenderer) {\n      return toTooltipHtml(tooltipRenderer({\n        datum: datum,\n        angleKey: angleKey,\n        angleValue: angleValue,\n        angleName: angleName,\n        radiusKey: radiusKey,\n        radiusValue: radiusKey ? datum[radiusKey] : undefined,\n        radiusName: radiusName,\n        labelKey: labelKey,\n        labelName: labelName,\n        title: title,\n        color: color\n      }), defaults);\n    }\n\n    return toTooltipHtml(defaults);\n  };\n\n  PieSeries.prototype.listSeriesItems = function (legendData) {\n    var _this = this;\n\n    var _a = this,\n        labelKey = _a.labelKey,\n        data = _a.data;\n\n    if (data && data.length && labelKey) {\n      var _b = this,\n          fills_1 = _b.fills,\n          strokes_1 = _b.strokes,\n          id_1 = _b.id;\n\n      data.forEach(function (datum, index) {\n        legendData.push({\n          id: id_1,\n          itemId: index,\n          enabled: _this.seriesItemEnabled[index],\n          label: {\n            text: String(datum[labelKey])\n          },\n          marker: {\n            fill: fills_1[index % fills_1.length],\n            stroke: strokes_1[index % strokes_1.length],\n            fillOpacity: _this.fillOpacity,\n            strokeOpacity: _this.strokeOpacity\n          }\n        });\n      });\n    }\n  };\n\n  PieSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n    this.seriesItemEnabled[itemId] = enabled;\n    this.scheduleData();\n  };\n\n  PieSeries.className = 'PieSeries';\n  PieSeries.type = 'pie';\n\n  __decorate([reactive('dataChange')], PieSeries.prototype, \"angleKey\", void 0);\n\n  __decorate([reactive('update')], PieSeries.prototype, \"angleName\", void 0);\n\n  __decorate([reactive('dataChange')], PieSeries.prototype, \"radiusKey\", void 0);\n\n  __decorate([reactive('update')], PieSeries.prototype, \"radiusName\", void 0);\n\n  __decorate([reactive('dataChange')], PieSeries.prototype, \"labelKey\", void 0);\n\n  __decorate([reactive('update')], PieSeries.prototype, \"labelName\", void 0);\n\n  __decorate([reactive('layoutChange')], PieSeries.prototype, \"fillOpacity\", void 0);\n\n  __decorate([reactive('layoutChange')], PieSeries.prototype, \"strokeOpacity\", void 0);\n\n  __decorate([reactive('update')], PieSeries.prototype, \"lineDash\", void 0);\n\n  __decorate([reactive('update')], PieSeries.prototype, \"lineDashOffset\", void 0);\n\n  __decorate([reactive('update')], PieSeries.prototype, \"formatter\", void 0);\n\n  __decorate([reactive('dataChange')], PieSeries.prototype, \"rotation\", void 0);\n\n  __decorate([reactive('layoutChange')], PieSeries.prototype, \"outerRadiusOffset\", void 0);\n\n  __decorate([reactive('dataChange')], PieSeries.prototype, \"innerRadiusOffset\", void 0);\n\n  __decorate([reactive('layoutChange')], PieSeries.prototype, \"strokeWidth\", void 0);\n\n  __decorate([reactive('layoutChange')], PieSeries.prototype, \"shadow\", void 0);\n\n  return PieSeries;\n}(PolarSeries);\n\nexport { PieSeries };","map":{"version":3,"sources":["E:/Expense-Tracker/frontend/node_modules/ag-charts-community/dist/es6/chart/series/polar/pieSeries.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Group","Line","Text","Selection","LinearScale","Sector","Label","PointerEvents","normalizeAngle180","toRadians","Color","toFixed","reactive","Observable","PolarSeries","ChartAxisDirection","toTooltipHtml","PieNodeTag","PieSeriesLabel","_super","_this","apply","offset","minAngle","PieSeriesCallout","colors","strokeWidth","PieSeries","call","radiusScale","groupSelection","select","group","selectAll","groupSelectionData","angleScale","scale","domain","range","Math","PI","map","angle","seriesItemEnabled","label","callout","angleKey","angleName","_fills","_strokes","fillOpacity","strokeOpacity","lineDash","undefined","lineDashOffset","rotation","outerRadiusOffset","innerRadiusOffset","highlightStyle","fill","addEventListener","update","scheduleLayout","scheduleData","addPropertyListener","event","value","source","get","_title","set","oldTitle","removeEventListener","removeChild","node","textBaseline","appendChild","enumerable","configurable","values","strokes","color","fromString","darker","toHexString","onHighlightChange","updateNodes","setColors","fills","getDomain","direction","X","processData","_a","radiusKey","data","angleData","datum","index","abs","angleDataTotal","reduce","a","angleDataRatios","sum","labelKey","enabled","labelData","String","useRadiusKey","radiusData","radii","maxDatum_1","max","halfPi","datumIndex","start","end","radius","startAngle","convert","endAngle","midAngle","span","midCos","cos","midSin","sin","labelMinAngle","labelVisible","midAngle180","quadrantStart","textAlign","push","series","seriesDatum","text","chart","visible","indexOf","dataPending","layoutPending","translationX","centerX","translationY","centerY","title","updateGroupSelection","updateGroups","setData","exit","remove","enterGroups","enter","append","each","tag","Callout","pointerEvents","None","merge","shadow","_b","stroke","centerOffset","formatter","highlightedDatum","minOuterRadius","Infinity","outerRadii","centerOffsets","selectByTag","sector","outerRadius","highlighted","sectorFill","sectorStroke","format","innerRadius","fillShadow","lineJoin","calloutColors","calloutLength","calloutStrokeWidth","line","x1","y1","x2","y2","_c","offset_1","fontStyle_1","fontStyle","fontWeight_1","fontWeight","fontSize_1","fontSize","fontFamily_1","fontFamily","color_1","labelRadius","x","y","fireNodeClickEvent","fireEvent","type","getTooltipHtml","nodeDatum","tooltipRenderer","radiusName","labelName","angleValue","formattedAngleValue","toString","content","defaults","titleBackgroundColor","radiusValue","listSeriesItems","legendData","fills_1","strokes_1","id_1","id","forEach","itemId","marker","toggleSeriesItem","className"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Line } from \"../../../scene/shape/line\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { Selection } from \"../../../scene/selection\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport { Sector } from \"../../../scene/shape/sector\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { normalizeAngle180, toRadians } from \"../../../util/angle\";\nimport { Color } from \"../../../util/color\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive, Observable } from \"../../../util/observable\";\nimport { PolarSeries } from \"./polarSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { toTooltipHtml } from \"../../chart\";\nvar PieNodeTag;\n(function (PieNodeTag) {\n    PieNodeTag[PieNodeTag[\"Sector\"] = 0] = \"Sector\";\n    PieNodeTag[PieNodeTag[\"Callout\"] = 1] = \"Callout\";\n    PieNodeTag[PieNodeTag[\"Label\"] = 2] = \"Label\";\n})(PieNodeTag || (PieNodeTag = {}));\nvar PieSeriesLabel = /** @class */ (function (_super) {\n    __extends(PieSeriesLabel, _super);\n    function PieSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.offset = 3; // from the callout line\n        _this.minAngle = 20; // in degrees\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesLabel.prototype, \"offset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeriesLabel.prototype, \"minAngle\", void 0);\n    return PieSeriesLabel;\n}(Label));\nvar PieSeriesCallout = /** @class */ (function (_super) {\n    __extends(PieSeriesCallout, _super);\n    function PieSeriesCallout() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.colors = [];\n        _this.length = 10;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"colors\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"length\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"strokeWidth\", void 0);\n    return PieSeriesCallout;\n}(Observable));\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        var _this = _super.call(this) || this;\n        _this.radiusScale = new LinearScale();\n        _this.groupSelection = Selection.select(_this.group).selectAll();\n        /**\n         * The processed data that gets visualized.\n         */\n        _this.groupSelectionData = [];\n        _this.angleScale = (function () {\n            var scale = new LinearScale();\n            // Each slice is a ratio of the whole, where all ratios add up to 1.\n            scale.domain = [0, 1];\n            // Add 90 deg to start the first pie at 12 o'clock.\n            scale.range = [-Math.PI, Math.PI].map(function (angle) { return angle + Math.PI / 2; });\n            return scale;\n        })();\n        // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n        _this.seriesItemEnabled = [];\n        _this.label = new PieSeriesLabel();\n        _this.callout = new PieSeriesCallout();\n        /**\n         * The key of the numeric field to use to determine the angle (for example,\n         * a pie slice angle).\n         */\n        _this.angleKey = '';\n        _this.angleName = '';\n        _this._fills = [\n            '#c16068',\n            '#a2bf8a',\n            '#ebcc87',\n            '#80a0c3',\n            '#b58dae',\n            '#85c0d1'\n        ];\n        _this._strokes = [\n            '#874349',\n            '#718661',\n            '#a48f5f',\n            '#5a7088',\n            '#7f637a',\n            '#5d8692'\n        ];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = undefined;\n        _this.lineDashOffset = 0;\n        /**\n         * The series rotation in degrees.\n         */\n        _this.rotation = 0;\n        _this.outerRadiusOffset = 0;\n        _this.innerRadiusOffset = 0;\n        _this.strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update, _this);\n        _this.label.addEventListener('change', _this.scheduleLayout, _this);\n        _this.label.addEventListener('dataChange', _this.scheduleData, _this);\n        _this.callout.addEventListener('change', _this.scheduleLayout, _this);\n        _this.addPropertyListener('data', function (event) {\n            if (event.value) {\n                event.source.seriesItemEnabled = event.value.map(function () { return true; });\n            }\n        });\n        return _this;\n    }\n    Object.defineProperty(PieSeries.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    oldTitle.removeEventListener('change', this.scheduleLayout);\n                    this.group.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.textBaseline = 'bottom';\n                    value.addEventListener('change', this.scheduleLayout);\n                    this.group.appendChild(value.node);\n                }\n                this._title = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"fills\", {\n        get: function () {\n            return this._fills;\n        },\n        set: function (values) {\n            this._fills = values;\n            this.strokes = values.map(function (color) { return Color.fromString(color).darker().toHexString(); });\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"strokes\", {\n        get: function () {\n            return this._strokes;\n        },\n        set: function (values) {\n            this._strokes = values;\n            this.callout.colors = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PieSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    PieSeries.prototype.setColors = function (fills, strokes) {\n        this.fills = fills;\n        this.strokes = strokes;\n        this.callout.colors = strokes;\n    };\n    PieSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.angleScale.domain;\n        }\n        else {\n            return this.radiusScale.domain;\n        }\n    };\n    PieSeries.prototype.processData = function () {\n        var _this = this;\n        var _a = this, angleKey = _a.angleKey, radiusKey = _a.radiusKey, seriesItemEnabled = _a.seriesItemEnabled, angleScale = _a.angleScale, groupSelectionData = _a.groupSelectionData;\n        var data = angleKey && this.data ? this.data : [];\n        var angleData = data.map(function (datum, index) { return seriesItemEnabled[index] && Math.abs(+datum[angleKey]) || 0; });\n        var angleDataTotal = angleData.reduce(function (a, b) { return a + b; }, 0);\n        // The ratios (in [0, 1] interval) used to calculate the end angle value for every pie slice.\n        // Each slice starts where the previous one ends, so we only keep the ratios for end angles.\n        var angleDataRatios = (function () {\n            var sum = 0;\n            return angleData.map(function (datum) { return sum += datum / angleDataTotal; });\n        })();\n        var labelKey = this.label.enabled && this.labelKey;\n        var labelData = labelKey ? data.map(function (datum) { return String(datum[labelKey]); }) : [];\n        var useRadiusKey = !!radiusKey && !this.innerRadiusOffset;\n        var radiusData = [];\n        if (useRadiusKey) {\n            var radii = data.map(function (datum) { return Math.abs(datum[radiusKey]); });\n            var maxDatum_1 = Math.max.apply(Math, radii);\n            radiusData = radii.map(function (value) { return value / maxDatum_1; });\n        }\n        groupSelectionData.length = 0;\n        var rotation = toRadians(this.rotation);\n        var halfPi = Math.PI / 2;\n        var datumIndex = 0;\n        // Simply use reduce here to pair up adjacent ratios.\n        angleDataRatios.reduce(function (start, end) {\n            var radius = useRadiusKey ? radiusData[datumIndex] : 1;\n            var startAngle = angleScale.convert(start) + rotation;\n            var endAngle = angleScale.convert(end) + rotation;\n            var midAngle = (startAngle + endAngle) / 2;\n            var span = Math.abs(endAngle - startAngle);\n            var midCos = Math.cos(midAngle);\n            var midSin = Math.sin(midAngle);\n            var labelMinAngle = toRadians(_this.label.minAngle);\n            var labelVisible = labelKey && span > labelMinAngle;\n            var midAngle180 = normalizeAngle180(midAngle);\n            // Split the circle into quadrants like so: âŠ—\n            var quadrantStart = -3 * Math.PI / 4; // same as `normalizeAngle180(toRadians(-135))`\n            var textAlign;\n            var textBaseline;\n            if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'bottom';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'left';\n                textBaseline = 'middle';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'hanging';\n            }\n            else {\n                textAlign = 'right';\n                textBaseline = 'middle';\n            }\n            groupSelectionData.push({\n                series: _this,\n                seriesDatum: data[datumIndex],\n                index: datumIndex,\n                radius: radius,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                midAngle: midAngle,\n                midCos: midCos,\n                midSin: midSin,\n                label: labelVisible ? {\n                    text: labelData[datumIndex],\n                    textAlign: textAlign,\n                    textBaseline: textBaseline\n                } : undefined\n            });\n            datumIndex++;\n            return end;\n        }, 0);\n        return true;\n    };\n    PieSeries.prototype.update = function () {\n        var chart = this.chart;\n        var visible = this.group.visible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n        if (!visible || !chart || chart.dataPending || chart.layoutPending) {\n            return;\n        }\n        this.radiusScale.range = [0, this.radius];\n        this.group.translationX = this.centerX;\n        this.group.translationY = this.centerY;\n        var title = this.title;\n        if (title) {\n            title.node.translationY = -this.radius - this.outerRadiusOffset - 2;\n            title.node.visible = title.enabled;\n        }\n        this.updateGroupSelection();\n        this.updateNodes();\n    };\n    PieSeries.prototype.updateGroupSelection = function () {\n        var updateGroups = this.groupSelection.setData(this.groupSelectionData);\n        updateGroups.exit.remove();\n        var enterGroups = updateGroups.enter.append(Group);\n        enterGroups.append(Sector).each(function (node) { return node.tag = PieNodeTag.Sector; });\n        enterGroups.append(Line).each(function (node) {\n            node.tag = PieNodeTag.Callout;\n            node.pointerEvents = PointerEvents.None;\n        });\n        enterGroups.append(Text).each(function (node) {\n            node.tag = PieNodeTag.Label;\n            node.pointerEvents = PointerEvents.None;\n        });\n        this.groupSelection = updateGroups.merge(enterGroups);\n    };\n    PieSeries.prototype.updateNodes = function () {\n        var _this = this;\n        if (!this.chart) {\n            return;\n        }\n        var _a = this, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, strokeWidth = _a.strokeWidth, outerRadiusOffset = _a.outerRadiusOffset, innerRadiusOffset = _a.innerRadiusOffset, radiusScale = _a.radiusScale, callout = _a.callout, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke, centerOffset = _b.centerOffset, angleKey = _a.angleKey, radiusKey = _a.radiusKey, formatter = _a.formatter;\n        var highlightedDatum = this.chart.highlightedDatum;\n        var minOuterRadius = Infinity;\n        var outerRadii = [];\n        var centerOffsets = [];\n        this.groupSelection.selectByTag(PieNodeTag.Sector).each(function (sector, datum, index) {\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius + outerRadiusOffset);\n            var highlighted = datum === highlightedDatum;\n            var sectorFill = highlighted && fill !== undefined ? fill : fills[index % fills.length];\n            var sectorStroke = highlighted && stroke !== undefined ? stroke : strokes[index % strokes.length];\n            var format = undefined;\n            if (minOuterRadius > outerRadius) {\n                minOuterRadius = outerRadius;\n            }\n            if (formatter) {\n                format = formatter({\n                    datum: datum.seriesDatum,\n                    fill: sectorFill,\n                    stroke: sectorStroke,\n                    strokeWidth: strokeWidth,\n                    highlighted: highlighted,\n                    angleKey: angleKey,\n                    radiusKey: radiusKey\n                });\n            }\n            sector.outerRadius = outerRadius;\n            sector.innerRadius = Math.max(0, innerRadiusOffset ? radius + innerRadiusOffset : 0);\n            sector.startAngle = datum.startAngle;\n            sector.endAngle = datum.endAngle;\n            sector.fill = format && format.fill || sectorFill;\n            sector.stroke = format && format.stroke || sectorStroke;\n            sector.strokeWidth = format && format.strokeWidth !== undefined ? format.strokeWidth : strokeWidth;\n            sector.fillOpacity = fillOpacity;\n            sector.strokeOpacity = strokeOpacity;\n            sector.lineDash = _this.lineDash;\n            sector.lineDashOffset = _this.lineDashOffset;\n            sector.centerOffset = highlighted && centerOffset !== undefined ? centerOffset : 0;\n            sector.fillShadow = shadow;\n            sector.lineJoin = 'round';\n            outerRadii.push(outerRadius);\n            centerOffsets.push(sector.centerOffset);\n        });\n        var calloutColors = callout.colors, calloutLength = callout.length, calloutStrokeWidth = callout.strokeWidth;\n        this.groupSelection.selectByTag(PieNodeTag.Callout).each(function (line, datum, index) {\n            if (datum.label) {\n                var outerRadius = centerOffsets[index] + outerRadii[index];\n                line.strokeWidth = calloutStrokeWidth;\n                line.stroke = calloutColors[index % calloutColors.length];\n                line.x1 = datum.midCos * outerRadius;\n                line.y1 = datum.midSin * outerRadius;\n                line.x2 = datum.midCos * (outerRadius + calloutLength);\n                line.y2 = datum.midSin * (outerRadius + calloutLength);\n            }\n            else {\n                line.stroke = undefined;\n            }\n        });\n        {\n            var _c = this.label, offset_1 = _c.offset, fontStyle_1 = _c.fontStyle, fontWeight_1 = _c.fontWeight, fontSize_1 = _c.fontSize, fontFamily_1 = _c.fontFamily, color_1 = _c.color;\n            this.groupSelection.selectByTag(PieNodeTag.Label).each(function (text, datum, index) {\n                var label = datum.label;\n                if (label) {\n                    var outerRadius = outerRadii[index];\n                    var labelRadius = centerOffsets[index] + outerRadius + calloutLength + offset_1;\n                    text.fontStyle = fontStyle_1;\n                    text.fontWeight = fontWeight_1;\n                    text.fontSize = fontSize_1;\n                    text.fontFamily = fontFamily_1;\n                    text.text = label.text;\n                    text.x = datum.midCos * labelRadius;\n                    text.y = datum.midSin * labelRadius;\n                    text.fill = color_1;\n                    text.textAlign = label.textAlign;\n                    text.textBaseline = label.textBaseline;\n                }\n                else {\n                    text.fill = undefined;\n                }\n            });\n        }\n    };\n    PieSeries.prototype.fireNodeClickEvent = function (datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            series: this,\n            datum: datum.seriesDatum,\n            angleKey: this.angleKey,\n            radiusKey: this.radiusKey\n        });\n    };\n    PieSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var angleKey = this.angleKey;\n        if (!angleKey) {\n            return '';\n        }\n        var _a = this, fills = _a.fills, tooltipRenderer = _a.tooltipRenderer, angleName = _a.angleName, radiusKey = _a.radiusKey, radiusName = _a.radiusName, labelKey = _a.labelKey, labelName = _a.labelName;\n        var color = fills[nodeDatum.index % fills.length];\n        var datum = nodeDatum.seriesDatum;\n        var label = labelKey ? datum[labelKey] + \": \" : '';\n        var angleValue = datum[angleKey];\n        var formattedAngleValue = typeof angleValue === 'number' ? toFixed(angleValue) : angleValue.toString();\n        var title = this.title ? this.title.text : undefined;\n        var content = label + formattedAngleValue;\n        var defaults = {\n            title: title,\n            titleBackgroundColor: color,\n            content: content\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                angleKey: angleKey,\n                angleValue: angleValue,\n                angleName: angleName,\n                radiusKey: radiusKey,\n                radiusValue: radiusKey ? datum[radiusKey] : undefined,\n                radiusName: radiusName,\n                labelKey: labelKey,\n                labelName: labelName,\n                title: title,\n                color: color,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    PieSeries.prototype.listSeriesItems = function (legendData) {\n        var _this = this;\n        var _a = this, labelKey = _a.labelKey, data = _a.data;\n        if (data && data.length && labelKey) {\n            var _b = this, fills_1 = _b.fills, strokes_1 = _b.strokes, id_1 = _b.id;\n            data.forEach(function (datum, index) {\n                legendData.push({\n                    id: id_1,\n                    itemId: index,\n                    enabled: _this.seriesItemEnabled[index],\n                    label: {\n                        text: String(datum[labelKey])\n                    },\n                    marker: {\n                        fill: fills_1[index % fills_1.length],\n                        stroke: strokes_1[index % strokes_1.length],\n                        fillOpacity: _this.fillOpacity,\n                        strokeOpacity: _this.strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    PieSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled[itemId] = enabled;\n        this.scheduleData();\n    };\n    PieSeries.className = 'PieSeries';\n    PieSeries.type = 'pie';\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"angleKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"angleName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"radiusKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"radiusName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"labelName\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"formatter\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"rotation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"outerRadiusOffset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"innerRadiusOffset\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"shadow\", void 0);\n    return PieSeries;\n}(PolarSeries));\nexport { PieSeries };\n"]},"metadata":{},"sourceType":"module"}