{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Scene } from \"../scene/scene\";\nimport { Group } from \"../scene/group\";\nimport { Padding } from \"../util/padding\";\nimport { Shape } from \"../scene/shape/shape\";\nimport { Rect } from \"../scene/shape/rect\";\nimport { Legend } from \"./legend\";\nimport { find } from \"../util/array\";\nimport { SizeMonitor } from \"../util/sizeMonitor\";\nimport { Observable, reactive } from \"../util/observable\";\nimport { CartesianSeries } from \"./series/cartesian/cartesianSeries\";\nimport { createId } from \"../util/id\";\nvar defaultTooltipCss = \"\\n.ag-chart-tooltip {\\n    display: none;\\n    position: absolute;\\n    user-select: none;\\n    pointer-events: none;\\n    white-space: nowrap;\\n    z-index: 99999;\\n    font: 12px Verdana, sans-serif;\\n    color: black;\\n    background: rgb(244, 244, 244);\\n    border-radius: 5px;\\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\\n}\\n\\n.ag-chart-tooltip-visible {\\n    display: table;\\n}\\n\\n.ag-chart-tooltip-title {\\n    font-weight: bold;\\n    padding: 7px;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n    color: white;\\n    background-color: #888888;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-content {\\n    padding: 7px;\\n    line-height: 1.7em;\\n    border-bottom-left-radius: 5px;\\n    border-bottom-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-arrow::before {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 6px solid #989898;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: #989898;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-tooltip-arrow::after {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid black;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: rgb(244, 244, 244);\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-wrapper {\\n    box-sizing: border-box;\\n    overflow: hidden;\\n}\\n\";\nexport function toTooltipHtml(input, defaults) {\n  if (typeof input === 'string') {\n    return input;\n  }\n  defaults = defaults || {};\n  var _a = input.content,\n    content = _a === void 0 ? defaults.content || '' : _a,\n    _b = input.title,\n    title = _b === void 0 ? defaults.title || undefined : _b,\n    _c = input.titleColor,\n    titleColor = _c === void 0 ? defaults.titleColor || 'white' : _c,\n    _d = input.titleBackgroundColor,\n    titleBackgroundColor = _d === void 0 ? defaults.titleBackgroundColor || '#888' : _d;\n  var titleHtml = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\"\\n        style=\\\"color: \" + titleColor + \"; background-color: \" + titleBackgroundColor + \"\\\">\" + title + \"</div>\" : '';\n  return titleHtml + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + content + \"</div>\";\n}\nvar Chart = /** @class */function (_super) {\n  __extends(Chart, _super);\n  function Chart(document) {\n    if (document === void 0) {\n      document = window.document;\n    }\n    var _this = _super.call(this) || this;\n    _this.id = createId(_this);\n    _this.background = new Rect();\n    _this.legend = new Legend();\n    _this.legendAutoPadding = new Padding();\n    _this.captionAutoPadding = 0; // top padding only\n    _this._container = undefined;\n    _this._data = [];\n    _this._autoSize = false;\n    _this.padding = new Padding(20);\n    _this._axes = [];\n    _this._series = [];\n    _this._axesChanged = false;\n    _this._seriesChanged = false;\n    _this.layoutCallbackId = 0;\n    _this._performLayout = function () {\n      _this.layoutCallbackId = 0;\n      _this.background.width = _this.width;\n      _this.background.height = _this.height;\n      _this.performLayout();\n      if (!_this.layoutPending) {\n        _this.fireEvent({\n          type: 'layoutDone'\n        });\n      }\n    };\n    _this.dataCallbackId = 0;\n    _this._onMouseDown = _this.onMouseDown.bind(_this);\n    _this._onMouseUp = _this.onMouseUp.bind(_this);\n    _this._onMouseMove = _this.onMouseMove.bind(_this);\n    _this._onMouseOut = _this.onMouseOut.bind(_this);\n    _this._onClick = _this.onClick.bind(_this);\n    _this._tooltipClass = Chart.defaultTooltipClass;\n    /**\n     * If `true`, the tooltip will be shown for the marker closest to the mouse cursor.\n     * Only has effect on series with markers.\n     */\n    _this.tooltipTracking = true;\n    var root = new Group();\n    var background = _this.background;\n    background.fill = 'white';\n    root.appendChild(background);\n    var element = _this._element = document.createElement('div');\n    element.setAttribute('class', 'ag-chart-wrapper');\n    var scene = new Scene(document);\n    _this.scene = scene;\n    scene.root = root;\n    scene.container = element;\n    _this.autoSize = true;\n    var legend = _this.legend;\n    legend.addEventListener('layoutChange', _this.onLayoutChange, _this);\n    legend.addPropertyListener('position', _this.onLegendPositionChange, _this);\n    _this.tooltipElement = document.createElement('div');\n    _this.tooltipClass = '';\n    document.body.appendChild(_this.tooltipElement);\n    if (Chart.tooltipDocuments.indexOf(document) < 0) {\n      var styleElement = document.createElement('style');\n      styleElement.innerHTML = defaultTooltipCss;\n      // Make sure the default tooltip style goes before other styles so it can be overridden.\n      document.head.insertBefore(styleElement, document.head.querySelector('style'));\n      Chart.tooltipDocuments.push(document);\n    }\n    _this.setupDomListeners(scene.canvas.element);\n    _this.addPropertyListener('title', _this.onCaptionChange);\n    _this.addPropertyListener('subtitle', _this.onCaptionChange);\n    _this.addEventListener('layoutChange', function () {\n      return _this.layoutPending = true;\n    });\n    return _this;\n  }\n  Object.defineProperty(Chart.prototype, \"container\", {\n    get: function () {\n      return this._container;\n    },\n    set: function (value) {\n      if (this._container !== value) {\n        var parentNode = this.element.parentNode;\n        if (parentNode != null) {\n          parentNode.removeChild(this.element);\n        }\n        if (value) {\n          value.appendChild(this.element);\n        }\n        this._container = value;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"data\", {\n    get: function () {\n      return this._data;\n    },\n    set: function (data) {\n      this._data = data;\n      this.series.forEach(function (series) {\n        return series.data = data;\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"width\", {\n    get: function () {\n      return this.scene.width;\n    },\n    set: function (value) {\n      this.autoSize = false;\n      if (this.width !== value) {\n        this.scene.resize(value, this.height);\n        this.fireEvent({\n          type: 'layoutChange'\n        });\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"height\", {\n    get: function () {\n      return this.scene.height;\n    },\n    set: function (value) {\n      this.autoSize = false;\n      if (this.height !== value) {\n        this.scene.resize(this.width, value);\n        this.fireEvent({\n          type: 'layoutChange'\n        });\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"autoSize\", {\n    get: function () {\n      return this._autoSize;\n    },\n    set: function (value) {\n      if (this._autoSize !== value) {\n        this._autoSize = value;\n        var style = this.element.style;\n        if (value) {\n          var chart_1 = this; // capture `this` for IE11\n          SizeMonitor.observe(this.element, function (size) {\n            if (size.width !== chart_1.width || size.height !== chart_1.height) {\n              chart_1.scene.resize(size.width, size.height);\n              chart_1.fireEvent({\n                type: 'layoutChange'\n              });\n            }\n          });\n          style.display = 'block';\n          style.width = '100%';\n          style.height = '100%';\n        } else {\n          SizeMonitor.unobserve(this.element);\n          style.display = 'inline-block';\n          style.width = 'auto';\n          style.height = 'auto';\n        }\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Chart.prototype.download = function (fileName) {\n    this.scene.download(fileName);\n  };\n  Chart.prototype.destroy = function () {\n    var tooltipParent = this.tooltipElement.parentNode;\n    if (tooltipParent) {\n      tooltipParent.removeChild(this.tooltipElement);\n    }\n    SizeMonitor.unobserve(this.element);\n    this.container = undefined;\n    this.cleanupDomListeners(this.scene.canvas.element);\n    this.scene.container = undefined;\n  };\n  Chart.prototype.onLayoutChange = function () {\n    this.layoutPending = true;\n  };\n  Chart.prototype.onLegendPositionChange = function () {\n    this.legendAutoPadding.clear();\n    this.layoutPending = true;\n  };\n  Chart.prototype.onCaptionChange = function (event) {\n    var value = event.value,\n      oldValue = event.oldValue;\n    if (oldValue) {\n      oldValue.removeEventListener('change', this.onLayoutChange, this);\n      this.scene.root.removeChild(oldValue.node);\n    }\n    if (value) {\n      value.addEventListener('change', this.onLayoutChange, this);\n      this.scene.root.appendChild(value.node);\n    }\n  };\n  Object.defineProperty(Chart.prototype, \"element\", {\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"axes\", {\n    get: function () {\n      return this._axes;\n    },\n    set: function (values) {\n      var _this = this;\n      this._axes.forEach(function (axis) {\n        return _this.detachAxis(axis);\n      });\n      // make linked axes go after the regular ones (simulates stable sort by `linkedTo` property)\n      this._axes = values.filter(function (a) {\n        return !a.linkedTo;\n      }).concat(values.filter(function (a) {\n        return a.linkedTo;\n      }));\n      this._axes.forEach(function (axis) {\n        return _this.attachAxis(axis);\n      });\n      this.axesChanged = true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Chart.prototype.attachAxis = function (axis) {\n    this.scene.root.insertBefore(axis.group, this.seriesRoot);\n  };\n  Chart.prototype.detachAxis = function (axis) {\n    this.scene.root.removeChild(axis.group);\n  };\n  Object.defineProperty(Chart.prototype, \"series\", {\n    get: function () {\n      return this._series;\n    },\n    set: function (values) {\n      var _this = this;\n      this.removeAllSeries();\n      values.forEach(function (series) {\n        return _this.addSeries(series);\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Chart.prototype.scheduleLayout = function () {\n    this.layoutPending = true;\n  };\n  Chart.prototype.scheduleData = function () {\n    // To prevent the chart from thinking the cursor is over the same node\n    // after a change to data (the nodes are reused on data changes).\n    this.dehighlightDatum();\n    this.dataPending = true;\n  };\n  Chart.prototype.addSeries = function (series, before) {\n    var _a = this,\n      allSeries = _a.series,\n      seriesRoot = _a.seriesRoot;\n    var canAdd = allSeries.indexOf(series) < 0;\n    if (canAdd) {\n      var beforeIndex = before ? allSeries.indexOf(before) : -1;\n      if (beforeIndex >= 0) {\n        allSeries.splice(beforeIndex, 0, series);\n        seriesRoot.insertBefore(series.group, before.group);\n      } else {\n        allSeries.push(series);\n        seriesRoot.append(series.group);\n      }\n      this.initSeries(series);\n      this.seriesChanged = true;\n      this.axesChanged = true;\n      return true;\n    }\n    return false;\n  };\n  Chart.prototype.initSeries = function (series) {\n    series.chart = this;\n    if (!series.data) {\n      series.data = this.data;\n    }\n    series.addEventListener('layoutChange', this.scheduleLayout, this);\n    series.addEventListener('dataChange', this.scheduleData, this);\n    series.addEventListener('legendChange', this.updateLegend, this);\n    series.addEventListener('nodeClick', this.onSeriesNodeClick, this);\n  };\n  Chart.prototype.freeSeries = function (series) {\n    series.chart = undefined;\n    series.removeEventListener('layoutChange', this.scheduleLayout, this);\n    series.removeEventListener('dataChange', this.scheduleData, this);\n    series.removeEventListener('legendChange', this.updateLegend, this);\n    series.removeEventListener('nodeClick', this.onSeriesNodeClick, this);\n  };\n  Chart.prototype.addSeriesAfter = function (series, after) {\n    var _a = this,\n      allSeries = _a.series,\n      seriesRoot = _a.seriesRoot;\n    var canAdd = allSeries.indexOf(series) < 0;\n    if (canAdd) {\n      var afterIndex = after ? this.series.indexOf(after) : -1;\n      if (afterIndex >= 0) {\n        if (afterIndex + 1 < allSeries.length) {\n          seriesRoot.insertBefore(series.group, allSeries[afterIndex + 1].group);\n        } else {\n          seriesRoot.append(series.group);\n        }\n        this.initSeries(series);\n        allSeries.splice(afterIndex + 1, 0, series);\n      } else {\n        if (allSeries.length > 0) {\n          seriesRoot.insertBefore(series.group, allSeries[0].group);\n        } else {\n          seriesRoot.append(series.group);\n        }\n        this.initSeries(series);\n        allSeries.unshift(series);\n      }\n      this.seriesChanged = true;\n      this.axesChanged = true;\n    }\n    return false;\n  };\n  Chart.prototype.removeSeries = function (series) {\n    var index = this.series.indexOf(series);\n    if (index >= 0) {\n      this.series.splice(index, 1);\n      this.freeSeries(series);\n      this.seriesRoot.removeChild(series.group);\n      this.seriesChanged = true;\n      return true;\n    }\n    return false;\n  };\n  Chart.prototype.removeAllSeries = function () {\n    var _this = this;\n    this.series.forEach(function (series) {\n      _this.freeSeries(series);\n      _this.seriesRoot.removeChild(series.group);\n    });\n    this._series = []; // using `_series` instead of `series` to prevent infinite recursion\n    this.seriesChanged = true;\n  };\n  Chart.prototype.assignSeriesToAxes = function () {\n    var _this = this;\n    this.axes.forEach(function (axis) {\n      var axisName = axis.direction + 'Axis';\n      var boundSeries = [];\n      _this.series.forEach(function (series) {\n        if (series[axisName] === axis) {\n          boundSeries.push(series);\n        }\n      });\n      axis.boundSeries = boundSeries;\n    });\n    this.seriesChanged = false;\n  };\n  Chart.prototype.assignAxesToSeries = function (force) {\n    var _this = this;\n    if (force === void 0) {\n      force = false;\n    }\n    // This method has to run before `assignSeriesToAxes`.\n    var directionToAxesMap = {};\n    this.axes.forEach(function (axis) {\n      var direction = axis.direction;\n      var directionAxes = directionToAxesMap[direction] || (directionToAxesMap[direction] = []);\n      directionAxes.push(axis);\n    });\n    this.series.forEach(function (series) {\n      series.directions.forEach(function (direction) {\n        var axisName = direction + 'Axis';\n        if (!series[axisName] || force) {\n          var directionAxes = directionToAxesMap[direction];\n          if (directionAxes) {\n            var axis = _this.findMatchingAxis(directionAxes, series.getKeys(direction));\n            if (axis) {\n              series[axisName] = axis;\n            }\n          }\n        }\n      });\n      if (series instanceof CartesianSeries) {\n        if (!series.xAxis) {\n          console.warn(\"Could not find a matching xAxis for the \" + series.id + \" series.\");\n          return;\n        }\n        if (!series.yAxis) {\n          console.warn(\"Could not find a matching yAxis for the \" + series.id + \" series.\");\n          return;\n        }\n      }\n    });\n    this.axesChanged = false;\n  };\n  Chart.prototype.findMatchingAxis = function (directionAxes, directionKeys) {\n    for (var i = 0; i < directionAxes.length; i++) {\n      var axis = directionAxes[i];\n      var axisKeys = axis.keys;\n      if (!axisKeys.length) {\n        return axis;\n      } else if (directionKeys) {\n        for (var j = 0; j < directionKeys.length; j++) {\n          if (axisKeys.indexOf(directionKeys[j]) >= 0) {\n            return axis;\n          }\n        }\n      }\n    }\n  };\n  Object.defineProperty(Chart.prototype, \"axesChanged\", {\n    get: function () {\n      return this._axesChanged;\n    },\n    set: function (value) {\n      this._axesChanged = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"seriesChanged\", {\n    get: function () {\n      return this._seriesChanged;\n    },\n    set: function (value) {\n      this._seriesChanged = value;\n      if (value) {\n        this.dataPending = true;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"layoutPending\", {\n    /**\n     * Only `true` while we are waiting for the layout to start.\n     * This will be `false` if the layout has already started and is ongoing.\n     */\n    get: function () {\n      return !!this.layoutCallbackId;\n    },\n    set: function (value) {\n      if (value) {\n        if (!(this.layoutCallbackId || this.dataPending)) {\n          this.layoutCallbackId = requestAnimationFrame(this._performLayout);\n        }\n      } else if (this.layoutCallbackId) {\n        cancelAnimationFrame(this.layoutCallbackId);\n        this.layoutCallbackId = 0;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Chart.prototype, \"dataPending\", {\n    get: function () {\n      return !!this.dataCallbackId;\n    },\n    set: function (value) {\n      var _this = this;\n      if (this.dataCallbackId) {\n        clearTimeout(this.dataCallbackId);\n        this.dataCallbackId = 0;\n      }\n      if (value) {\n        this.dataCallbackId = window.setTimeout(function () {\n          _this.dataPending = false;\n          _this.processData();\n        }, 0);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Chart.prototype.processData = function () {\n    this.layoutPending = false;\n    if (this.axesChanged) {\n      this.assignAxesToSeries(true);\n      this.assignSeriesToAxes();\n    }\n    if (this.seriesChanged) {\n      this.assignSeriesToAxes();\n    }\n    this.series.filter(function (s) {\n      return s.visible;\n    }).forEach(function (series) {\n      return series.processData();\n    });\n    this.updateLegend();\n    this.layoutPending = true;\n  };\n  Chart.prototype.updateLegend = function () {\n    var legendData = [];\n    this.series.filter(function (s) {\n      return s.showInLegend;\n    }).forEach(function (series) {\n      return series.listSeriesItems(legendData);\n    });\n    this.legend.data = legendData;\n  };\n  Chart.prototype.positionCaptions = function () {\n    var _a = this,\n      title = _a.title,\n      subtitle = _a.subtitle;\n    var titleVisible = false;\n    var subtitleVisible = false;\n    var spacing = 10;\n    var paddingTop = spacing;\n    if (title && title.enabled) {\n      title.node.x = this.width / 2;\n      title.node.y = paddingTop;\n      titleVisible = true;\n      var titleBBox = title.node.computeBBox(); // make sure to set node's x/y, then computeBBox\n      if (titleBBox) {\n        paddingTop = titleBBox.y + titleBBox.height;\n      }\n      if (subtitle && subtitle.enabled) {\n        subtitle.node.x = this.width / 2;\n        subtitle.node.y = paddingTop + spacing;\n        subtitleVisible = true;\n        var subtitleBBox = subtitle.node.computeBBox();\n        if (subtitleBBox) {\n          paddingTop = subtitleBBox.y + subtitleBBox.height;\n        }\n      }\n    }\n    if (title) {\n      title.node.visible = titleVisible;\n    }\n    if (subtitle) {\n      subtitle.node.visible = subtitleVisible;\n    }\n    this.captionAutoPadding = Math.floor(paddingTop);\n  };\n  Chart.prototype.positionLegend = function () {\n    if (!this.legend.enabled || !this.legend.data.length) {\n      return;\n    }\n    var _a = this,\n      legend = _a.legend,\n      captionAutoPadding = _a.captionAutoPadding,\n      legendAutoPadding = _a.legendAutoPadding;\n    var width = this.width;\n    var height = this.height - captionAutoPadding;\n    var legendGroup = legend.group;\n    var legendSpacing = legend.spacing;\n    var translationX = 0;\n    var translationY = 0;\n    var legendBBox;\n    switch (legend.position) {\n      case 'bottom':\n        legend.performLayout(width - legendSpacing * 2, 0);\n        legendBBox = legendGroup.computeBBox();\n        translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n        translationY = captionAutoPadding + height - legendBBox.height - legendBBox.y - legendSpacing;\n        legendAutoPadding.bottom = legendBBox.height;\n        break;\n      case 'top':\n        legend.performLayout(width - legendSpacing * 2, 0);\n        legendBBox = legendGroup.computeBBox();\n        translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n        translationY = captionAutoPadding + legendSpacing - legendBBox.y;\n        legendAutoPadding.top = legendBBox.height;\n        break;\n      case 'left':\n        legend.performLayout(0, height - legendSpacing * 2);\n        legendBBox = legendGroup.computeBBox();\n        translationX = legendSpacing - legendBBox.x;\n        translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n        legendAutoPadding.left = legendBBox.width;\n        break;\n      default:\n        // case 'right':\n        legend.performLayout(0, height - legendSpacing * 2);\n        legendBBox = legendGroup.computeBBox();\n        translationX = width - legendBBox.width - legendBBox.x - legendSpacing;\n        translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n        legendAutoPadding.right = legendBBox.width;\n        break;\n    }\n    // Round off for pixel grid alignment to work properly.\n    legendGroup.translationX = Math.floor(translationX + legendGroup.translationX);\n    legendGroup.translationY = Math.floor(translationY + legendGroup.translationY);\n  };\n  Chart.prototype.setupDomListeners = function (chartElement) {\n    chartElement.addEventListener('mousedown', this._onMouseDown);\n    chartElement.addEventListener('mousemove', this._onMouseMove);\n    chartElement.addEventListener('mouseup', this._onMouseUp);\n    chartElement.addEventListener('mouseout', this._onMouseOut);\n    chartElement.addEventListener('click', this._onClick);\n  };\n  Chart.prototype.cleanupDomListeners = function (chartElement) {\n    chartElement.removeEventListener('mousedown', this._onMouseDown);\n    chartElement.removeEventListener('mousemove', this._onMouseMove);\n    chartElement.removeEventListener('mouseup', this._onMouseUp);\n    chartElement.removeEventListener('mouseout', this._onMouseOut);\n    chartElement.removeEventListener('click', this._onClick);\n  };\n  // x/y are local canvas coordinates in CSS pixels, not actual pixels\n  Chart.prototype.pickSeriesNode = function (x, y) {\n    if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n      return undefined;\n    }\n    var allSeries = this.series;\n    var node = undefined;\n    for (var i = allSeries.length - 1; i >= 0; i--) {\n      var series = allSeries[i];\n      node = series.group.pickNode(x, y);\n      if (node) {\n        return {\n          series: series,\n          node: node\n        };\n      }\n    }\n  };\n  // Provided x/y are in canvas coordinates.\n  Chart.prototype.pickClosestSeriesNodeDatum = function (x, y) {\n    if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n      return undefined;\n    }\n    var allSeries = this.series;\n    function getDistance(p1, p2) {\n      return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n    }\n    var minDistance = Infinity;\n    var closestDatum;\n    var _loop_1 = function (i) {\n      var series = allSeries[i];\n      if (!series.visible) {\n        return \"continue\";\n      }\n      var hitPoint = series.group.transformPoint(x, y);\n      series.getNodeData().forEach(function (datum) {\n        if (!datum.point) {\n          return;\n        }\n        var distance = getDistance(hitPoint, datum.point);\n        if (distance < minDistance) {\n          minDistance = distance;\n          closestDatum = datum;\n        }\n      });\n    };\n    for (var i = allSeries.length - 1; i >= 0; i--) {\n      _loop_1(i);\n    }\n    if (closestDatum) {\n      return closestDatum;\n    }\n  };\n  Chart.prototype.onMouseMove = function (event) {\n    var _a = this,\n      lastPick = _a.lastPick,\n      tooltipTracking = _a.tooltipTracking;\n    var pick = this.pickSeriesNode(event.offsetX, event.offsetY);\n    var nodeDatum;\n    if (pick && pick.node instanceof Shape) {\n      var node = pick.node;\n      nodeDatum = node.datum;\n      if (lastPick && lastPick.datum === nodeDatum) {\n        lastPick.node = node;\n      }\n      // Marker nodes will have the `point` info in their datums.\n      // Highlight if not a marker node or, if not in the tracking mode, highlight markers too.\n      if (!node.datum.point || !tooltipTracking) {\n        if (!lastPick // cursor moved from empty space to a node\n        || lastPick.node !== node) {\n          // cursor moved from one node to another\n          this.onSeriesDatumPick(event, node.datum, node);\n        } else if (pick.series.tooltipEnabled) {\n          // cursor moved within the same node\n          this.showTooltip(event);\n        }\n        // A non-marker node (takes precedence over marker nodes) was highlighted.\n        // Or we are not in the tracking mode.\n        // Either way, we are done at this point.\n        return;\n      }\n    }\n    var hideTooltip = false;\n    // In tracking mode a tooltip is shown for the closest rendered datum.\n    // This makes it easier to show tooltips when markers are small and/or plentiful\n    // and also gives the ability to show tooltips even when the series were configured\n    // to not render markers.\n    if (tooltipTracking) {\n      var closestDatum = this.pickClosestSeriesNodeDatum(event.offsetX, event.offsetY);\n      if (closestDatum && closestDatum.point) {\n        var _b = closestDatum.point,\n          x = _b.x,\n          y = _b.y;\n        var canvas = this.scene.canvas;\n        var point = closestDatum.series.group.inverseTransformPoint(x, y);\n        var canvasRect = canvas.element.getBoundingClientRect();\n        this.onSeriesDatumPick({\n          pageX: Math.round(canvasRect.left + window.pageXOffset + point.x),\n          pageY: Math.round(canvasRect.top + window.pageYOffset + point.y)\n        }, closestDatum, nodeDatum === closestDatum && pick ? pick.node : undefined);\n      } else {\n        hideTooltip = true;\n      }\n    }\n    if (lastPick && (hideTooltip || !tooltipTracking)) {\n      // cursor moved from a non-marker node to empty space\n      this.dehighlightDatum();\n      this.hideTooltip();\n      this.lastPick = undefined;\n    }\n  };\n  Chart.prototype.onMouseDown = function (event) {};\n  Chart.prototype.onMouseUp = function (event) {};\n  Chart.prototype.onMouseOut = function (event) {\n    this.toggleTooltip(false);\n  };\n  Chart.prototype.onClick = function (event) {\n    this.checkSeriesNodeClick();\n    this.checkLegendClick(event);\n  };\n  Chart.prototype.checkSeriesNodeClick = function () {\n    var lastPick = this.lastPick;\n    if (lastPick && lastPick.node) {\n      var datum = lastPick.datum;\n      datum.series.fireNodeClickEvent(datum);\n    }\n  };\n  Chart.prototype.onSeriesNodeClick = function (event) {\n    this.fireEvent(__assign(__assign({}, event), {\n      type: 'seriesNodeClick'\n    }));\n  };\n  Chart.prototype.checkLegendClick = function (event) {\n    var datum = this.legend.getDatumForPoint(event.offsetX, event.offsetY);\n    if (datum) {\n      var id_1 = datum.id,\n        itemId = datum.itemId,\n        enabled = datum.enabled;\n      var series = find(this.series, function (series) {\n        return series.id === id_1;\n      });\n      if (series) {\n        series.toggleSeriesItem(itemId, !enabled);\n        if (enabled) {\n          this.hideTooltip();\n        }\n      }\n    }\n  };\n  Chart.prototype.onSeriesDatumPick = function (meta, datum, node) {\n    if (this.lastPick) {\n      // this.lastPick.datum.series.dehighlightDatum();\n      this.dehighlightDatum();\n    }\n    this.lastPick = {\n      datum: datum,\n      node: node\n    };\n    this.highlightDatum(datum);\n    var html = datum.series.tooltipEnabled && datum.series.getTooltipHtml(datum);\n    if (html) {\n      this.showTooltip(meta, html);\n    }\n  };\n  Chart.prototype.highlightDatum = function (datum) {\n    this.highlightedDatum = datum;\n    this.series.forEach(function (s) {\n      return s.onHighlightChange();\n    });\n  };\n  Chart.prototype.dehighlightDatum = function () {\n    if (this.highlightedDatum) {\n      this.highlightedDatum = undefined;\n      this.series.forEach(function (s) {\n        return s.onHighlightChange();\n      });\n    }\n  };\n  Object.defineProperty(Chart.prototype, \"tooltipClass\", {\n    get: function () {\n      return this._tooltipClass;\n    },\n    set: function (value) {\n      if (this._tooltipClass !== value) {\n        this._tooltipClass = value;\n        this.toggleTooltip();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Chart.prototype.toggleTooltip = function (visible) {\n    if (!visible && this.lastPick) {\n      this.dehighlightDatum();\n      this.lastPick = undefined;\n    }\n    this.updateTooltipClass(visible);\n  };\n  Chart.prototype.updateTooltipClass = function (visible, constrained) {\n    var classList = [Chart.defaultTooltipClass, this.tooltipClass];\n    if (visible === true) {\n      classList.push(Chart.defaultTooltipClass + \"-visible\");\n    }\n    if (constrained !== true) {\n      classList.push(Chart.defaultTooltipClass + \"-arrow\");\n    }\n    this.tooltipElement.setAttribute('class', classList.join(' '));\n  };\n  /**\n   * Shows tooltip at the given event's coordinates.\n   * If the `html` parameter is missing, moves the existing tooltip to the new position.\n   */\n  Chart.prototype.showTooltip = function (meta, html) {\n    var el = this.tooltipElement;\n    var container = this.container;\n    if (html !== undefined) {\n      el.innerHTML = html;\n    } else if (!el.innerHTML) {\n      return;\n    }\n    if (html) {\n      this.toggleTooltip(true);\n    }\n    var left = meta.pageX - el.clientWidth / 2;\n    var top = meta.pageY - el.clientHeight - 8;\n    if (container) {\n      var tooltipRect = el.getBoundingClientRect();\n      var minLeft = 0;\n      var maxLeft = window.innerWidth - tooltipRect.width;\n      if (left < minLeft) {\n        left = minLeft;\n        this.updateTooltipClass(true, true);\n      } else if (left > maxLeft) {\n        left = maxLeft;\n        this.updateTooltipClass(true, true);\n      }\n    }\n    el.style.left = left + \"px\";\n    el.style.top = top + \"px\";\n  };\n  Chart.prototype.hideTooltip = function () {\n    this.toggleTooltip(false);\n  };\n  Chart.defaultTooltipClass = 'ag-chart-tooltip';\n  Chart.tooltipDocuments = [];\n  __decorate([reactive('layoutChange')], Chart.prototype, \"padding\", void 0);\n  __decorate([reactive('layoutChange')], Chart.prototype, \"title\", void 0);\n  __decorate([reactive('layoutChange')], Chart.prototype, \"subtitle\", void 0);\n  return Chart;\n}(Observable);\nexport { Chart };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Scene","Group","Padding","Shape","Rect","Legend","find","SizeMonitor","Observable","reactive","CartesianSeries","createId","defaultTooltipCss","toTooltipHtml","input","defaults","_a","content","_b","title","undefined","_c","titleColor","_d","titleBackgroundColor","titleHtml","Chart","defaultTooltipClass","_super","document","window","_this","id","background","legend","legendAutoPadding","captionAutoPadding","_container","_data","_autoSize","padding","_axes","_series","_axesChanged","_seriesChanged","layoutCallbackId","_performLayout","width","height","performLayout","layoutPending","fireEvent","type","dataCallbackId","_onMouseDown","onMouseDown","bind","_onMouseUp","onMouseUp","_onMouseMove","onMouseMove","_onMouseOut","onMouseOut","_onClick","onClick","_tooltipClass","tooltipTracking","root","fill","appendChild","element","_element","createElement","setAttribute","scene","container","autoSize","addEventListener","onLayoutChange","addPropertyListener","onLegendPositionChange","tooltipElement","tooltipClass","body","tooltipDocuments","indexOf","styleElement","innerHTML","head","insertBefore","querySelector","push","setupDomListeners","canvas","onCaptionChange","get","set","value","parentNode","removeChild","enumerable","configurable","data","series","forEach","resize","style","chart_1","observe","size","display","unobserve","download","fileName","destroy","tooltipParent","cleanupDomListeners","clear","event","oldValue","removeEventListener","node","values","axis","detachAxis","filter","a","linkedTo","concat","attachAxis","axesChanged","group","seriesRoot","removeAllSeries","addSeries","scheduleLayout","scheduleData","dehighlightDatum","dataPending","before","allSeries","canAdd","beforeIndex","splice","append","initSeries","seriesChanged","chart","updateLegend","onSeriesNodeClick","freeSeries","addSeriesAfter","after","afterIndex","unshift","removeSeries","index","assignSeriesToAxes","axes","axisName","direction","boundSeries","assignAxesToSeries","force","directionToAxesMap","directionAxes","directions","findMatchingAxis","getKeys","xAxis","console","warn","yAxis","directionKeys","axisKeys","keys","j","requestAnimationFrame","cancelAnimationFrame","clearTimeout","setTimeout","processData","visible","legendData","showInLegend","listSeriesItems","positionCaptions","subtitle","titleVisible","subtitleVisible","spacing","paddingTop","enabled","x","y","titleBBox","computeBBox","subtitleBBox","Math","floor","positionLegend","legendGroup","legendSpacing","translationX","translationY","legendBBox","position","bottom","top","left","right","chartElement","pickSeriesNode","seriesRect","containsPoint","pickNode","pickClosestSeriesNodeDatum","getDistance","p1","p2","sqrt","pow","minDistance","Infinity","closestDatum","_loop_1","hitPoint","transformPoint","getNodeData","datum","point","distance","lastPick","pick","offsetX","offsetY","nodeDatum","onSeriesDatumPick","tooltipEnabled","showTooltip","hideTooltip","inverseTransformPoint","canvasRect","getBoundingClientRect","pageX","round","pageXOffset","pageY","pageYOffset","toggleTooltip","checkSeriesNodeClick","checkLegendClick","fireNodeClickEvent","getDatumForPoint","id_1","itemId","toggleSeriesItem","meta","highlightDatum","html","getTooltipHtml","highlightedDatum","onHighlightChange","updateTooltipClass","constrained","classList","join","el","clientWidth","clientHeight","tooltipRect","minLeft","maxLeft","innerWidth"],"sources":["C:/Users/avnis/Documents/Expense-Tracker/frontend/node_modules/ag-charts-community/dist/es6/chart/chart.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Scene } from \"../scene/scene\";\nimport { Group } from \"../scene/group\";\nimport { Padding } from \"../util/padding\";\nimport { Shape } from \"../scene/shape/shape\";\nimport { Rect } from \"../scene/shape/rect\";\nimport { Legend } from \"./legend\";\nimport { find } from \"../util/array\";\nimport { SizeMonitor } from \"../util/sizeMonitor\";\nimport { Observable, reactive } from \"../util/observable\";\nimport { CartesianSeries } from \"./series/cartesian/cartesianSeries\";\nimport { createId } from \"../util/id\";\nvar defaultTooltipCss = \"\\n.ag-chart-tooltip {\\n    display: none;\\n    position: absolute;\\n    user-select: none;\\n    pointer-events: none;\\n    white-space: nowrap;\\n    z-index: 99999;\\n    font: 12px Verdana, sans-serif;\\n    color: black;\\n    background: rgb(244, 244, 244);\\n    border-radius: 5px;\\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\\n}\\n\\n.ag-chart-tooltip-visible {\\n    display: table;\\n}\\n\\n.ag-chart-tooltip-title {\\n    font-weight: bold;\\n    padding: 7px;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n    color: white;\\n    background-color: #888888;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-content {\\n    padding: 7px;\\n    line-height: 1.7em;\\n    border-bottom-left-radius: 5px;\\n    border-bottom-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-arrow::before {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 6px solid #989898;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: #989898;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-tooltip-arrow::after {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid black;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: rgb(244, 244, 244);\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-wrapper {\\n    box-sizing: border-box;\\n    overflow: hidden;\\n}\\n\";\nexport function toTooltipHtml(input, defaults) {\n    if (typeof input === 'string') {\n        return input;\n    }\n    defaults = defaults || {};\n    var _a = input.content, content = _a === void 0 ? defaults.content || '' : _a, _b = input.title, title = _b === void 0 ? defaults.title || undefined : _b, _c = input.titleColor, titleColor = _c === void 0 ? defaults.titleColor || 'white' : _c, _d = input.titleBackgroundColor, titleBackgroundColor = _d === void 0 ? defaults.titleBackgroundColor || '#888' : _d;\n    var titleHtml = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\"\\n        style=\\\"color: \" + titleColor + \"; background-color: \" + titleBackgroundColor + \"\\\">\" + title + \"</div>\" : '';\n    return titleHtml + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + content + \"</div>\";\n}\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    function Chart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.background = new Rect();\n        _this.legend = new Legend();\n        _this.legendAutoPadding = new Padding();\n        _this.captionAutoPadding = 0; // top padding only\n        _this._container = undefined;\n        _this._data = [];\n        _this._autoSize = false;\n        _this.padding = new Padding(20);\n        _this._axes = [];\n        _this._series = [];\n        _this._axesChanged = false;\n        _this._seriesChanged = false;\n        _this.layoutCallbackId = 0;\n        _this._performLayout = function () {\n            _this.layoutCallbackId = 0;\n            _this.background.width = _this.width;\n            _this.background.height = _this.height;\n            _this.performLayout();\n            if (!_this.layoutPending) {\n                _this.fireEvent({ type: 'layoutDone' });\n            }\n        };\n        _this.dataCallbackId = 0;\n        _this._onMouseDown = _this.onMouseDown.bind(_this);\n        _this._onMouseUp = _this.onMouseUp.bind(_this);\n        _this._onMouseMove = _this.onMouseMove.bind(_this);\n        _this._onMouseOut = _this.onMouseOut.bind(_this);\n        _this._onClick = _this.onClick.bind(_this);\n        _this._tooltipClass = Chart.defaultTooltipClass;\n        /**\n         * If `true`, the tooltip will be shown for the marker closest to the mouse cursor.\n         * Only has effect on series with markers.\n         */\n        _this.tooltipTracking = true;\n        var root = new Group();\n        var background = _this.background;\n        background.fill = 'white';\n        root.appendChild(background);\n        var element = _this._element = document.createElement('div');\n        element.setAttribute('class', 'ag-chart-wrapper');\n        var scene = new Scene(document);\n        _this.scene = scene;\n        scene.root = root;\n        scene.container = element;\n        _this.autoSize = true;\n        var legend = _this.legend;\n        legend.addEventListener('layoutChange', _this.onLayoutChange, _this);\n        legend.addPropertyListener('position', _this.onLegendPositionChange, _this);\n        _this.tooltipElement = document.createElement('div');\n        _this.tooltipClass = '';\n        document.body.appendChild(_this.tooltipElement);\n        if (Chart.tooltipDocuments.indexOf(document) < 0) {\n            var styleElement = document.createElement('style');\n            styleElement.innerHTML = defaultTooltipCss;\n            // Make sure the default tooltip style goes before other styles so it can be overridden.\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            Chart.tooltipDocuments.push(document);\n        }\n        _this.setupDomListeners(scene.canvas.element);\n        _this.addPropertyListener('title', _this.onCaptionChange);\n        _this.addPropertyListener('subtitle', _this.onCaptionChange);\n        _this.addEventListener('layoutChange', function () { return _this.layoutPending = true; });\n        return _this;\n    }\n    Object.defineProperty(Chart.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                var parentNode = this.element.parentNode;\n                if (parentNode != null) {\n                    parentNode.removeChild(this.element);\n                }\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        set: function (data) {\n            this._data = data;\n            this.series.forEach(function (series) { return series.data = data; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"width\", {\n        get: function () {\n            return this.scene.width;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.width !== value) {\n                this.scene.resize(value, this.height);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"height\", {\n        get: function () {\n            return this.scene.height;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.height !== value) {\n                this.scene.resize(this.width, value);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"autoSize\", {\n        get: function () {\n            return this._autoSize;\n        },\n        set: function (value) {\n            if (this._autoSize !== value) {\n                this._autoSize = value;\n                var style = this.element.style;\n                if (value) {\n                    var chart_1 = this; // capture `this` for IE11\n                    SizeMonitor.observe(this.element, function (size) {\n                        if (size.width !== chart_1.width || size.height !== chart_1.height) {\n                            chart_1.scene.resize(size.width, size.height);\n                            chart_1.fireEvent({ type: 'layoutChange' });\n                        }\n                    });\n                    style.display = 'block';\n                    style.width = '100%';\n                    style.height = '100%';\n                }\n                else {\n                    SizeMonitor.unobserve(this.element);\n                    style.display = 'inline-block';\n                    style.width = 'auto';\n                    style.height = 'auto';\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.download = function (fileName) {\n        this.scene.download(fileName);\n    };\n    Chart.prototype.destroy = function () {\n        var tooltipParent = this.tooltipElement.parentNode;\n        if (tooltipParent) {\n            tooltipParent.removeChild(this.tooltipElement);\n        }\n        SizeMonitor.unobserve(this.element);\n        this.container = undefined;\n        this.cleanupDomListeners(this.scene.canvas.element);\n        this.scene.container = undefined;\n    };\n    Chart.prototype.onLayoutChange = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.onLegendPositionChange = function () {\n        this.legendAutoPadding.clear();\n        this.layoutPending = true;\n    };\n    Chart.prototype.onCaptionChange = function (event) {\n        var value = event.value, oldValue = event.oldValue;\n        if (oldValue) {\n            oldValue.removeEventListener('change', this.onLayoutChange, this);\n            this.scene.root.removeChild(oldValue.node);\n        }\n        if (value) {\n            value.addEventListener('change', this.onLayoutChange, this);\n            this.scene.root.appendChild(value.node);\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"axes\", {\n        get: function () {\n            return this._axes;\n        },\n        set: function (values) {\n            var _this = this;\n            this._axes.forEach(function (axis) { return _this.detachAxis(axis); });\n            // make linked axes go after the regular ones (simulates stable sort by `linkedTo` property)\n            this._axes = values.filter(function (a) { return !a.linkedTo; }).concat(values.filter(function (a) { return a.linkedTo; }));\n            this._axes.forEach(function (axis) { return _this.attachAxis(axis); });\n            this.axesChanged = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.attachAxis = function (axis) {\n        this.scene.root.insertBefore(axis.group, this.seriesRoot);\n    };\n    Chart.prototype.detachAxis = function (axis) {\n        this.scene.root.removeChild(axis.group);\n    };\n    Object.defineProperty(Chart.prototype, \"series\", {\n        get: function () {\n            return this._series;\n        },\n        set: function (values) {\n            var _this = this;\n            this.removeAllSeries();\n            values.forEach(function (series) { return _this.addSeries(series); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.scheduleLayout = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.scheduleData = function () {\n        // To prevent the chart from thinking the cursor is over the same node\n        // after a change to data (the nodes are reused on data changes).\n        this.dehighlightDatum();\n        this.dataPending = true;\n    };\n    Chart.prototype.addSeries = function (series, before) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var beforeIndex = before ? allSeries.indexOf(before) : -1;\n            if (beforeIndex >= 0) {\n                allSeries.splice(beforeIndex, 0, series);\n                seriesRoot.insertBefore(series.group, before.group);\n            }\n            else {\n                allSeries.push(series);\n                seriesRoot.append(series.group);\n            }\n            this.initSeries(series);\n            this.seriesChanged = true;\n            this.axesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.initSeries = function (series) {\n        series.chart = this;\n        if (!series.data) {\n            series.data = this.data;\n        }\n        series.addEventListener('layoutChange', this.scheduleLayout, this);\n        series.addEventListener('dataChange', this.scheduleData, this);\n        series.addEventListener('legendChange', this.updateLegend, this);\n        series.addEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.freeSeries = function (series) {\n        series.chart = undefined;\n        series.removeEventListener('layoutChange', this.scheduleLayout, this);\n        series.removeEventListener('dataChange', this.scheduleData, this);\n        series.removeEventListener('legendChange', this.updateLegend, this);\n        series.removeEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.addSeriesAfter = function (series, after) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var afterIndex = after ? this.series.indexOf(after) : -1;\n            if (afterIndex >= 0) {\n                if (afterIndex + 1 < allSeries.length) {\n                    seriesRoot.insertBefore(series.group, allSeries[afterIndex + 1].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.splice(afterIndex + 1, 0, series);\n            }\n            else {\n                if (allSeries.length > 0) {\n                    seriesRoot.insertBefore(series.group, allSeries[0].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.unshift(series);\n            }\n            this.seriesChanged = true;\n            this.axesChanged = true;\n        }\n        return false;\n    };\n    Chart.prototype.removeSeries = function (series) {\n        var index = this.series.indexOf(series);\n        if (index >= 0) {\n            this.series.splice(index, 1);\n            this.freeSeries(series);\n            this.seriesRoot.removeChild(series.group);\n            this.seriesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.removeAllSeries = function () {\n        var _this = this;\n        this.series.forEach(function (series) {\n            _this.freeSeries(series);\n            _this.seriesRoot.removeChild(series.group);\n        });\n        this._series = []; // using `_series` instead of `series` to prevent infinite recursion\n        this.seriesChanged = true;\n    };\n    Chart.prototype.assignSeriesToAxes = function () {\n        var _this = this;\n        this.axes.forEach(function (axis) {\n            var axisName = axis.direction + 'Axis';\n            var boundSeries = [];\n            _this.series.forEach(function (series) {\n                if (series[axisName] === axis) {\n                    boundSeries.push(series);\n                }\n            });\n            axis.boundSeries = boundSeries;\n        });\n        this.seriesChanged = false;\n    };\n    Chart.prototype.assignAxesToSeries = function (force) {\n        var _this = this;\n        if (force === void 0) { force = false; }\n        // This method has to run before `assignSeriesToAxes`.\n        var directionToAxesMap = {};\n        this.axes.forEach(function (axis) {\n            var direction = axis.direction;\n            var directionAxes = directionToAxesMap[direction] || (directionToAxesMap[direction] = []);\n            directionAxes.push(axis);\n        });\n        this.series.forEach(function (series) {\n            series.directions.forEach(function (direction) {\n                var axisName = direction + 'Axis';\n                if (!series[axisName] || force) {\n                    var directionAxes = directionToAxesMap[direction];\n                    if (directionAxes) {\n                        var axis = _this.findMatchingAxis(directionAxes, series.getKeys(direction));\n                        if (axis) {\n                            series[axisName] = axis;\n                        }\n                    }\n                }\n            });\n            if (series instanceof CartesianSeries) {\n                if (!series.xAxis) {\n                    console.warn(\"Could not find a matching xAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n                if (!series.yAxis) {\n                    console.warn(\"Could not find a matching yAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n            }\n        });\n        this.axesChanged = false;\n    };\n    Chart.prototype.findMatchingAxis = function (directionAxes, directionKeys) {\n        for (var i = 0; i < directionAxes.length; i++) {\n            var axis = directionAxes[i];\n            var axisKeys = axis.keys;\n            if (!axisKeys.length) {\n                return axis;\n            }\n            else if (directionKeys) {\n                for (var j = 0; j < directionKeys.length; j++) {\n                    if (axisKeys.indexOf(directionKeys[j]) >= 0) {\n                        return axis;\n                    }\n                }\n            }\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"axesChanged\", {\n        get: function () {\n            return this._axesChanged;\n        },\n        set: function (value) {\n            this._axesChanged = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"seriesChanged\", {\n        get: function () {\n            return this._seriesChanged;\n        },\n        set: function (value) {\n            this._seriesChanged = value;\n            if (value) {\n                this.dataPending = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"layoutPending\", {\n        /**\n         * Only `true` while we are waiting for the layout to start.\n         * This will be `false` if the layout has already started and is ongoing.\n         */\n        get: function () {\n            return !!this.layoutCallbackId;\n        },\n        set: function (value) {\n            if (value) {\n                if (!(this.layoutCallbackId || this.dataPending)) {\n                    this.layoutCallbackId = requestAnimationFrame(this._performLayout);\n                }\n            }\n            else if (this.layoutCallbackId) {\n                cancelAnimationFrame(this.layoutCallbackId);\n                this.layoutCallbackId = 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"dataPending\", {\n        get: function () {\n            return !!this.dataCallbackId;\n        },\n        set: function (value) {\n            var _this = this;\n            if (this.dataCallbackId) {\n                clearTimeout(this.dataCallbackId);\n                this.dataCallbackId = 0;\n            }\n            if (value) {\n                this.dataCallbackId = window.setTimeout(function () {\n                    _this.dataPending = false;\n                    _this.processData();\n                }, 0);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.processData = function () {\n        this.layoutPending = false;\n        if (this.axesChanged) {\n            this.assignAxesToSeries(true);\n            this.assignSeriesToAxes();\n        }\n        if (this.seriesChanged) {\n            this.assignSeriesToAxes();\n        }\n        this.series.filter(function (s) { return s.visible; }).forEach(function (series) { return series.processData(); });\n        this.updateLegend();\n        this.layoutPending = true;\n    };\n    Chart.prototype.updateLegend = function () {\n        var legendData = [];\n        this.series.filter(function (s) { return s.showInLegend; }).forEach(function (series) { return series.listSeriesItems(legendData); });\n        this.legend.data = legendData;\n    };\n    Chart.prototype.positionCaptions = function () {\n        var _a = this, title = _a.title, subtitle = _a.subtitle;\n        var titleVisible = false;\n        var subtitleVisible = false;\n        var spacing = 10;\n        var paddingTop = spacing;\n        if (title && title.enabled) {\n            title.node.x = this.width / 2;\n            title.node.y = paddingTop;\n            titleVisible = true;\n            var titleBBox = title.node.computeBBox(); // make sure to set node's x/y, then computeBBox\n            if (titleBBox) {\n                paddingTop = titleBBox.y + titleBBox.height;\n            }\n            if (subtitle && subtitle.enabled) {\n                subtitle.node.x = this.width / 2;\n                subtitle.node.y = paddingTop + spacing;\n                subtitleVisible = true;\n                var subtitleBBox = subtitle.node.computeBBox();\n                if (subtitleBBox) {\n                    paddingTop = subtitleBBox.y + subtitleBBox.height;\n                }\n            }\n        }\n        if (title) {\n            title.node.visible = titleVisible;\n        }\n        if (subtitle) {\n            subtitle.node.visible = subtitleVisible;\n        }\n        this.captionAutoPadding = Math.floor(paddingTop);\n    };\n    Chart.prototype.positionLegend = function () {\n        if (!this.legend.enabled || !this.legend.data.length) {\n            return;\n        }\n        var _a = this, legend = _a.legend, captionAutoPadding = _a.captionAutoPadding, legendAutoPadding = _a.legendAutoPadding;\n        var width = this.width;\n        var height = this.height - captionAutoPadding;\n        var legendGroup = legend.group;\n        var legendSpacing = legend.spacing;\n        var translationX = 0;\n        var translationY = 0;\n        var legendBBox;\n        switch (legend.position) {\n            case 'bottom':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + height - legendBBox.height - legendBBox.y - legendSpacing;\n                legendAutoPadding.bottom = legendBBox.height;\n                break;\n            case 'top':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + legendSpacing - legendBBox.y;\n                legendAutoPadding.top = legendBBox.height;\n                break;\n            case 'left':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = legendSpacing - legendBBox.x;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.left = legendBBox.width;\n                break;\n            default: // case 'right':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = width - legendBBox.width - legendBBox.x - legendSpacing;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.right = legendBBox.width;\n                break;\n        }\n        // Round off for pixel grid alignment to work properly.\n        legendGroup.translationX = Math.floor(translationX + legendGroup.translationX);\n        legendGroup.translationY = Math.floor(translationY + legendGroup.translationY);\n    };\n    Chart.prototype.setupDomListeners = function (chartElement) {\n        chartElement.addEventListener('mousedown', this._onMouseDown);\n        chartElement.addEventListener('mousemove', this._onMouseMove);\n        chartElement.addEventListener('mouseup', this._onMouseUp);\n        chartElement.addEventListener('mouseout', this._onMouseOut);\n        chartElement.addEventListener('click', this._onClick);\n    };\n    Chart.prototype.cleanupDomListeners = function (chartElement) {\n        chartElement.removeEventListener('mousedown', this._onMouseDown);\n        chartElement.removeEventListener('mousemove', this._onMouseMove);\n        chartElement.removeEventListener('mouseup', this._onMouseUp);\n        chartElement.removeEventListener('mouseout', this._onMouseOut);\n        chartElement.removeEventListener('click', this._onClick);\n    };\n    // x/y are local canvas coordinates in CSS pixels, not actual pixels\n    Chart.prototype.pickSeriesNode = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        var node = undefined;\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            var series = allSeries[i];\n            node = series.group.pickNode(x, y);\n            if (node) {\n                return {\n                    series: series,\n                    node: node\n                };\n            }\n        }\n    };\n    // Provided x/y are in canvas coordinates.\n    Chart.prototype.pickClosestSeriesNodeDatum = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        function getDistance(p1, p2) {\n            return Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\n        }\n        var minDistance = Infinity;\n        var closestDatum;\n        var _loop_1 = function (i) {\n            var series = allSeries[i];\n            if (!series.visible) {\n                return \"continue\";\n            }\n            var hitPoint = series.group.transformPoint(x, y);\n            series.getNodeData().forEach(function (datum) {\n                if (!datum.point) {\n                    return;\n                }\n                var distance = getDistance(hitPoint, datum.point);\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestDatum = datum;\n                }\n            });\n        };\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            _loop_1(i);\n        }\n        if (closestDatum) {\n            return closestDatum;\n        }\n    };\n    Chart.prototype.onMouseMove = function (event) {\n        var _a = this, lastPick = _a.lastPick, tooltipTracking = _a.tooltipTracking;\n        var pick = this.pickSeriesNode(event.offsetX, event.offsetY);\n        var nodeDatum;\n        if (pick && pick.node instanceof Shape) {\n            var node = pick.node;\n            nodeDatum = node.datum;\n            if (lastPick && lastPick.datum === nodeDatum) {\n                lastPick.node = node;\n            }\n            // Marker nodes will have the `point` info in their datums.\n            // Highlight if not a marker node or, if not in the tracking mode, highlight markers too.\n            if ((!node.datum.point || !tooltipTracking)) {\n                if (!lastPick // cursor moved from empty space to a node\n                    || lastPick.node !== node) { // cursor moved from one node to another\n                    this.onSeriesDatumPick(event, node.datum, node);\n                }\n                else if (pick.series.tooltipEnabled) { // cursor moved within the same node\n                    this.showTooltip(event);\n                }\n                // A non-marker node (takes precedence over marker nodes) was highlighted.\n                // Or we are not in the tracking mode.\n                // Either way, we are done at this point.\n                return;\n            }\n        }\n        var hideTooltip = false;\n        // In tracking mode a tooltip is shown for the closest rendered datum.\n        // This makes it easier to show tooltips when markers are small and/or plentiful\n        // and also gives the ability to show tooltips even when the series were configured\n        // to not render markers.\n        if (tooltipTracking) {\n            var closestDatum = this.pickClosestSeriesNodeDatum(event.offsetX, event.offsetY);\n            if (closestDatum && closestDatum.point) {\n                var _b = closestDatum.point, x = _b.x, y = _b.y;\n                var canvas = this.scene.canvas;\n                var point = closestDatum.series.group.inverseTransformPoint(x, y);\n                var canvasRect = canvas.element.getBoundingClientRect();\n                this.onSeriesDatumPick({\n                    pageX: Math.round(canvasRect.left + window.pageXOffset + point.x),\n                    pageY: Math.round(canvasRect.top + window.pageYOffset + point.y)\n                }, closestDatum, nodeDatum === closestDatum && pick ? pick.node : undefined);\n            }\n            else {\n                hideTooltip = true;\n            }\n        }\n        if (lastPick && (hideTooltip || !tooltipTracking)) {\n            // cursor moved from a non-marker node to empty space\n            this.dehighlightDatum();\n            this.hideTooltip();\n            this.lastPick = undefined;\n        }\n    };\n    Chart.prototype.onMouseDown = function (event) { };\n    Chart.prototype.onMouseUp = function (event) { };\n    Chart.prototype.onMouseOut = function (event) {\n        this.toggleTooltip(false);\n    };\n    Chart.prototype.onClick = function (event) {\n        this.checkSeriesNodeClick();\n        this.checkLegendClick(event);\n    };\n    Chart.prototype.checkSeriesNodeClick = function () {\n        var lastPick = this.lastPick;\n        if (lastPick && lastPick.node) {\n            var datum = lastPick.datum;\n            datum.series.fireNodeClickEvent(datum);\n        }\n    };\n    Chart.prototype.onSeriesNodeClick = function (event) {\n        this.fireEvent(__assign(__assign({}, event), { type: 'seriesNodeClick' }));\n    };\n    Chart.prototype.checkLegendClick = function (event) {\n        var datum = this.legend.getDatumForPoint(event.offsetX, event.offsetY);\n        if (datum) {\n            var id_1 = datum.id, itemId = datum.itemId, enabled = datum.enabled;\n            var series = find(this.series, function (series) { return series.id === id_1; });\n            if (series) {\n                series.toggleSeriesItem(itemId, !enabled);\n                if (enabled) {\n                    this.hideTooltip();\n                }\n            }\n        }\n    };\n    Chart.prototype.onSeriesDatumPick = function (meta, datum, node) {\n        if (this.lastPick) {\n            // this.lastPick.datum.series.dehighlightDatum();\n            this.dehighlightDatum();\n        }\n        this.lastPick = {\n            datum: datum,\n            node: node\n        };\n        this.highlightDatum(datum);\n        var html = datum.series.tooltipEnabled && datum.series.getTooltipHtml(datum);\n        if (html) {\n            this.showTooltip(meta, html);\n        }\n    };\n    Chart.prototype.highlightDatum = function (datum) {\n        this.highlightedDatum = datum;\n        this.series.forEach(function (s) { return s.onHighlightChange(); });\n    };\n    Chart.prototype.dehighlightDatum = function () {\n        if (this.highlightedDatum) {\n            this.highlightedDatum = undefined;\n            this.series.forEach(function (s) { return s.onHighlightChange(); });\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"tooltipClass\", {\n        get: function () {\n            return this._tooltipClass;\n        },\n        set: function (value) {\n            if (this._tooltipClass !== value) {\n                this._tooltipClass = value;\n                this.toggleTooltip();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.toggleTooltip = function (visible) {\n        if (!visible && this.lastPick) {\n            this.dehighlightDatum();\n            this.lastPick = undefined;\n        }\n        this.updateTooltipClass(visible);\n    };\n    Chart.prototype.updateTooltipClass = function (visible, constrained) {\n        var classList = [Chart.defaultTooltipClass, this.tooltipClass];\n        if (visible === true) {\n            classList.push(Chart.defaultTooltipClass + \"-visible\");\n        }\n        if (constrained !== true) {\n            classList.push(Chart.defaultTooltipClass + \"-arrow\");\n        }\n        this.tooltipElement.setAttribute('class', classList.join(' '));\n    };\n    /**\n     * Shows tooltip at the given event's coordinates.\n     * If the `html` parameter is missing, moves the existing tooltip to the new position.\n     */\n    Chart.prototype.showTooltip = function (meta, html) {\n        var el = this.tooltipElement;\n        var container = this.container;\n        if (html !== undefined) {\n            el.innerHTML = html;\n        }\n        else if (!el.innerHTML) {\n            return;\n        }\n        if (html) {\n            this.toggleTooltip(true);\n        }\n        var left = meta.pageX - el.clientWidth / 2;\n        var top = meta.pageY - el.clientHeight - 8;\n        if (container) {\n            var tooltipRect = el.getBoundingClientRect();\n            var minLeft = 0;\n            var maxLeft = window.innerWidth - tooltipRect.width;\n            if (left < minLeft) {\n                left = minLeft;\n                this.updateTooltipClass(true, true);\n            }\n            else if (left > maxLeft) {\n                left = maxLeft;\n                this.updateTooltipClass(true, true);\n            }\n        }\n        el.style.left = left + \"px\";\n        el.style.top = top + \"px\";\n    };\n    Chart.prototype.hideTooltip = function () {\n        this.toggleTooltip(false);\n    };\n    Chart.defaultTooltipClass = 'ag-chart-tooltip';\n    Chart.tooltipDocuments = [];\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"padding\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"subtitle\", void 0);\n    return Chart;\n}(Observable));\nexport { Chart };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}