{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../scene/group\";\nimport { Selection } from \"../scene/selection\";\nimport { MarkerLabel } from \"./markerLabel\";\nimport { reactive, Observable } from \"../util/observable\";\nimport { getMarker } from \"./marker/util\";\nimport { createId } from \"../util/id\";\nexport var LegendOrientation;\n(function (LegendOrientation) {\n  LegendOrientation[LegendOrientation[\"Vertical\"] = 0] = \"Vertical\";\n  LegendOrientation[LegendOrientation[\"Horizontal\"] = 1] = \"Horizontal\";\n})(LegendOrientation || (LegendOrientation = {}));\nexport var LegendPosition;\n(function (LegendPosition) {\n  LegendPosition[\"Top\"] = \"top\";\n  LegendPosition[\"Right\"] = \"right\";\n  LegendPosition[\"Bottom\"] = \"bottom\";\n  LegendPosition[\"Left\"] = \"left\";\n})(LegendPosition || (LegendPosition = {}));\nvar LegendLabel = /** @class */function (_super) {\n  __extends(LegendLabel, _super);\n  function LegendLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.color = 'black';\n    _this.fontSize = 12;\n    _this.fontFamily = 'Verdana, sans-serif';\n    return _this;\n  }\n  __decorate([reactive('change')], LegendLabel.prototype, \"color\", void 0);\n  __decorate([reactive('layoutChange')], LegendLabel.prototype, \"fontStyle\", void 0);\n  __decorate([reactive('layoutChange')], LegendLabel.prototype, \"fontWeight\", void 0);\n  __decorate([reactive('layoutChange')], LegendLabel.prototype, \"fontSize\", void 0);\n  __decorate([reactive('layoutChange')], LegendLabel.prototype, \"fontFamily\", void 0);\n  return LegendLabel;\n}(Observable);\nexport { LegendLabel };\nvar LegendMarker = /** @class */function (_super) {\n  __extends(LegendMarker, _super);\n  function LegendMarker() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.size = 15;\n    /**\n     * Padding between the marker and the label within each legend item.\n     */\n    _this.padding = 8;\n    _this.strokeWidth = 1;\n    return _this;\n  }\n  __decorate([reactive('layoutChange')], LegendMarker.prototype, \"size\", void 0);\n  __decorate([reactive('layoutChange')], LegendMarker.prototype, \"shape\", void 0);\n  __decorate([reactive('layoutChange')], LegendMarker.prototype, \"padding\", void 0);\n  __decorate([reactive('change')], LegendMarker.prototype, \"strokeWidth\", void 0);\n  return LegendMarker;\n}(Observable);\nexport { LegendMarker };\nvar LegendItem = /** @class */function (_super) {\n  __extends(LegendItem, _super);\n  function LegendItem() {\n    var _this = _super.call(this) || this;\n    _this.marker = new LegendMarker();\n    _this.label = new LegendLabel();\n    /**\n     * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n     * and as few rows as possible when positioned to top or bottom. This config specifies the amount of horizontal\n     * padding between legend items.\n     */\n    _this.paddingX = 16;\n    /**\n     * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n     * and as few rows as possible when positioned to top or bottom. This config specifies the amount of vertical\n     * padding between legend items.\n     */\n    _this.paddingY = 8;\n    var changeListener = function () {\n      return _this.fireEvent({\n        type: 'change'\n      });\n    };\n    _this.marker.addEventListener('change', changeListener);\n    _this.label.addEventListener('change', changeListener);\n    var layoutChangeListener = function () {\n      return _this.fireEvent({\n        type: 'layoutChange'\n      });\n    };\n    _this.marker.addEventListener('layoutChange', layoutChangeListener);\n    _this.label.addEventListener('layoutChange', layoutChangeListener);\n    return _this;\n  }\n  __decorate([reactive('layoutChange')], LegendItem.prototype, \"paddingX\", void 0);\n  __decorate([reactive('layoutChange')], LegendItem.prototype, \"paddingY\", void 0);\n  return LegendItem;\n}(Observable);\nexport { LegendItem };\nvar Legend = /** @class */function (_super) {\n  __extends(Legend, _super);\n  function Legend() {\n    var _this = _super.call(this) || this;\n    _this.id = createId(_this);\n    _this.group = new Group();\n    _this.itemSelection = Selection.select(_this.group).selectAll();\n    _this.oldSize = [0, 0];\n    _this.item = new LegendItem();\n    _this.data = [];\n    _this.enabled = true;\n    _this.orientation = LegendOrientation.Vertical;\n    _this.position = LegendPosition.Right;\n    /**\n     * Spacing between the legend and the edge of the chart's element.\n     */\n    _this.spacing = 20;\n    _this._size = [0, 0];\n    _this.addPropertyListener('data', _this.onDataChange);\n    _this.addPropertyListener('enabled', _this.onEnabledChange);\n    _this.addPropertyListener('position', _this.onPositionChange);\n    _this.item.marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n    _this.addEventListener('change', _this.update);\n    _this.item.addEventListener('change', function () {\n      return _this.fireEvent({\n        type: 'change'\n      });\n    });\n    _this.item.addEventListener('layoutChange', function () {\n      return _this.fireEvent({\n        type: 'layoutChange'\n      });\n    });\n    return _this;\n  }\n  Object.defineProperty(Legend.prototype, \"layoutHorizontalSpacing\", {\n    get: function () {\n      return this.item.paddingX;\n    },\n    /**\n     * @deprecated Please use {@link item.paddingX} instead.\n     */\n    set: function (value) {\n      this.item.paddingX = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"layoutVerticalSpacing\", {\n    get: function () {\n      return this.item.paddingY;\n    },\n    /**\n     * @deprecated Please use {@link item.paddingY} instead.\n     */\n    set: function (value) {\n      this.item.paddingY = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"itemSpacing\", {\n    get: function () {\n      return this.item.marker.padding;\n    },\n    /**\n     * @deprecated Please use {@link item.marker.padding} instead.\n     */\n    set: function (value) {\n      this.item.marker.padding = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"markerShape\", {\n    get: function () {\n      return this.item.marker.shape;\n    },\n    /**\n     * @deprecated Please use {@link item.marker.shape} instead.\n     */\n    set: function (value) {\n      this.item.marker.shape = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"markerSize\", {\n    get: function () {\n      return this.item.marker.size;\n    },\n    /**\n     * @deprecated Please use {@link item.marker.size} instead.\n     */\n    set: function (value) {\n      this.item.marker.size = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"strokeWidth\", {\n    get: function () {\n      return this.item.marker.strokeWidth;\n    },\n    /**\n     * @deprecated Please use {@link item.marker.strokeWidth} instead.\n     */\n    set: function (value) {\n      this.item.marker.strokeWidth = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"color\", {\n    get: function () {\n      return this.item.label.color;\n    },\n    /**\n     * @deprecated Please use {@link item.label.color} instead.\n     */\n    set: function (value) {\n      this.item.label.color = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"fontStyle\", {\n    get: function () {\n      return this.item.label.fontStyle;\n    },\n    /**\n     * @deprecated Please use {@link item.label.fontStyle} instead.\n     */\n    set: function (value) {\n      this.item.label.fontStyle = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"fontWeight\", {\n    get: function () {\n      return this.item.label.fontWeight;\n    },\n    /**\n     * @deprecated Please use {@link item.label.fontWeight} instead.\n     */\n    set: function (value) {\n      this.item.label.fontWeight = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"fontSize\", {\n    get: function () {\n      return this.item.label.fontSize;\n    },\n    /**\n     * @deprecated Please use {@link item.label.fontSize} instead.\n     */\n    set: function (value) {\n      this.item.label.fontSize = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"fontFamily\", {\n    get: function () {\n      return this.item.label.fontFamily;\n    },\n    /**\n     * @deprecated Please use {@link item.label.fontFamily} instead.\n     */\n    set: function (value) {\n      this.item.label.fontFamily = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Legend.prototype, \"size\", {\n    get: function () {\n      return this._size;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Legend.prototype.onDataChange = function (event) {\n    this.group.visible = event.value.length > 0 && this.enabled;\n  };\n  Legend.prototype.onEnabledChange = function (event) {\n    this.group.visible = event.value && this.data.length > 0;\n  };\n  Legend.prototype.onPositionChange = function (event) {\n    switch (event.value) {\n      case 'right':\n      case 'left':\n        this.orientation = LegendOrientation.Vertical;\n        break;\n      case 'bottom':\n      case 'top':\n        this.orientation = LegendOrientation.Horizontal;\n        break;\n    }\n  };\n  Legend.prototype.onMarkerShapeChange = function () {\n    this.itemSelection = this.itemSelection.setData([]);\n    this.itemSelection.exit.remove();\n  };\n  /**\n   * The method is given the desired size of the legend, which only serves as a hint.\n   * The vertically oriented legend will take as much horizontal space as needed, but will\n   * respect the height constraints, and the horizontal legend will take as much vertical\n   * space as needed in an attempt not to exceed the given width.\n   * After the layout is done, the {@link size} will contain the actual size of the legend.\n   * If the actual size is not the same as the previous actual size, the legend will fire\n   * the 'layoutChange' event to communicate that another layout is needed, and the above\n   * process should be repeated.\n   * @param width\n   * @param height\n   */\n  Legend.prototype.performLayout = function (width, height) {\n    var item = this.item;\n    var marker = item.marker,\n      paddingX = item.paddingX,\n      paddingY = item.paddingY;\n    var updateSelection = this.itemSelection.setData(this.data, function (_, datum) {\n      var MarkerShape = getMarker(marker.shape || datum.marker.shape);\n      return datum.id + '-' + datum.itemId + '-' + MarkerShape.name;\n    });\n    updateSelection.exit.remove();\n    var enterSelection = updateSelection.enter.append(MarkerLabel).each(function (node, datum) {\n      var MarkerShape = getMarker(marker.shape || datum.marker.shape);\n      node.marker = new MarkerShape();\n    });\n    var itemSelection = this.itemSelection = updateSelection.merge(enterSelection);\n    var itemCount = itemSelection.size;\n    // Update properties that affect the size of the legend items and measure them.\n    var bboxes = [];\n    var itemMarker = this.item.marker;\n    var itemLabel = this.item.label;\n    itemSelection.each(function (markerLabel, datum) {\n      // TODO: measure only when one of these properties or data change (in a separate routine)\n      markerLabel.markerSize = itemMarker.size;\n      markerLabel.spacing = itemMarker.padding;\n      markerLabel.fontStyle = itemLabel.fontStyle;\n      markerLabel.fontWeight = itemLabel.fontWeight;\n      markerLabel.fontSize = itemLabel.fontSize;\n      markerLabel.fontFamily = itemLabel.fontFamily;\n      markerLabel.text = datum.label.text;\n      bboxes.push(markerLabel.computeBBox());\n    });\n    var itemHeight = bboxes.length && bboxes[0].height;\n    var rowCount = 0;\n    var columnWidth = 0;\n    var paddedItemsWidth = 0;\n    var paddedItemsHeight = 0;\n    switch (this.orientation) {\n      case LegendOrientation.Horizontal:\n        if (!(isFinite(width) && width > 0)) {\n          return false;\n        }\n        rowCount = 0;\n        var columnCount = 0;\n        // Split legend items into columns until the width is suitable.\n        do {\n          var itemsWidth = 0;\n          columnCount = 0;\n          columnWidth = 0;\n          rowCount++;\n          var i = 0;\n          while (i < itemCount) {\n            var bbox = bboxes[i];\n            if (bbox.width > columnWidth) {\n              columnWidth = bbox.width;\n            }\n            i++;\n            if (i % rowCount === 0) {\n              itemsWidth += columnWidth;\n              columnWidth = 0;\n              columnCount++;\n            }\n          }\n          if (i % rowCount !== 0) {\n            itemsWidth += columnWidth;\n            columnCount++;\n          }\n          paddedItemsWidth = itemsWidth + (columnCount - 1) * paddingX;\n        } while (paddedItemsWidth > width && columnCount > 1);\n        paddedItemsHeight = itemHeight * rowCount + (rowCount - 1) * paddingY;\n        break;\n      case LegendOrientation.Vertical:\n        if (!(isFinite(height) && height > 0)) {\n          return false;\n        }\n        rowCount = itemCount * 2;\n        // Split legend items into columns until the height is suitable.\n        do {\n          rowCount = (rowCount >> 1) + rowCount % 2;\n          columnWidth = 0;\n          var itemsWidth = 0;\n          var itemsHeight = 0;\n          var columnCount_1 = 0;\n          var i = 0;\n          while (i < itemCount) {\n            var bbox = bboxes[i];\n            if (!columnCount_1) {\n              itemsHeight += bbox.height;\n            }\n            if (bbox.width > columnWidth) {\n              columnWidth = bbox.width;\n            }\n            i++;\n            if (i % rowCount === 0) {\n              itemsWidth += columnWidth;\n              columnWidth = 0;\n              columnCount_1++;\n            }\n          }\n          if (i % rowCount !== 0) {\n            itemsWidth += columnWidth;\n            columnCount_1++;\n          }\n          paddedItemsWidth = itemsWidth + (columnCount_1 - 1) * paddingX;\n          paddedItemsHeight = itemsHeight + (rowCount - 1) * paddingY;\n        } while (paddedItemsHeight > height && rowCount > 1);\n        break;\n    }\n    // Top-left corner of the first legend item.\n    var startX = (width - paddedItemsWidth) / 2;\n    var startY = (height - paddedItemsHeight) / 2;\n    var x = 0;\n    var y = 0;\n    columnWidth = 0;\n    // Position legend items using the layout computed above.\n    itemSelection.each(function (markerLabel, datum, i) {\n      // Round off for pixel grid alignment to work properly.\n      markerLabel.translationX = Math.floor(startX + x);\n      markerLabel.translationY = Math.floor(startY + y);\n      var bbox = bboxes[i];\n      if (bbox.width > columnWidth) {\n        columnWidth = bbox.width;\n      }\n      if ((i + 1) % rowCount === 0) {\n        x += columnWidth + paddingX;\n        y = 0;\n        columnWidth = 0;\n      } else {\n        y += bbox.height + paddingY;\n      }\n    });\n    // Update legend item properties that don't affect the layout.\n    this.update();\n    var size = this._size;\n    var oldSize = this.oldSize;\n    size[0] = paddedItemsWidth;\n    size[1] = paddedItemsHeight;\n    if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      oldSize[0] = size[0];\n      oldSize[1] = size[1];\n    }\n  };\n  Legend.prototype.update = function () {\n    var _this = this;\n    this.itemSelection.each(function (markerLabel, datum) {\n      var marker = datum.marker;\n      markerLabel.markerFill = marker.fill;\n      markerLabel.markerStroke = marker.stroke;\n      markerLabel.markerStrokeWidth = _this.item.marker.strokeWidth;\n      markerLabel.markerFillOpacity = marker.fillOpacity;\n      markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n      markerLabel.opacity = datum.enabled ? 1 : 0.5;\n      markerLabel.color = _this.color;\n    });\n  };\n  Legend.prototype.getDatumForPoint = function (x, y) {\n    var node = this.group.pickNode(x, y);\n    if (node && node.parent) {\n      return node.parent.datum;\n    }\n  };\n  Legend.className = 'Legend';\n  __decorate([reactive('layoutChange')], Legend.prototype, \"data\", void 0);\n  __decorate([reactive('layoutChange')], Legend.prototype, \"enabled\", void 0);\n  __decorate([reactive('layoutChange')], Legend.prototype, \"orientation\", void 0);\n  __decorate([reactive('layoutChange')], Legend.prototype, \"position\", void 0);\n  __decorate([reactive('layoutChange')], Legend.prototype, \"spacing\", void 0);\n  return Legend;\n}(Observable);\nexport { Legend };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Group","Selection","MarkerLabel","reactive","Observable","getMarker","createId","LegendOrientation","LegendPosition","LegendLabel","_super","_this","apply","color","fontSize","fontFamily","LegendMarker","size","padding","strokeWidth","LegendItem","call","marker","label","paddingX","paddingY","changeListener","fireEvent","type","addEventListener","layoutChangeListener","Legend","id","group","itemSelection","select","selectAll","oldSize","item","data","enabled","orientation","Vertical","position","Right","spacing","_size","addPropertyListener","onDataChange","onEnabledChange","onPositionChange","onMarkerShapeChange","update","get","set","value","enumerable","configurable","shape","fontStyle","fontWeight","event","visible","Horizontal","setData","exit","remove","performLayout","width","height","updateSelection","_","datum","MarkerShape","itemId","name","enterSelection","enter","append","each","node","merge","itemCount","bboxes","itemMarker","itemLabel","markerLabel","markerSize","text","push","computeBBox","itemHeight","rowCount","columnWidth","paddedItemsWidth","paddedItemsHeight","isFinite","columnCount","itemsWidth","bbox","itemsHeight","columnCount_1","startX","startY","x","y","translationX","Math","floor","translationY","markerFill","fill","markerStroke","stroke","markerStrokeWidth","markerFillOpacity","fillOpacity","markerStrokeOpacity","strokeOpacity","opacity","getDatumForPoint","pickNode","parent","className"],"sources":["C:/Users/avnis/Documents/Expense-Tracker/frontend/node_modules/ag-charts-community/dist/es6/chart/legend.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../scene/group\";\nimport { Selection } from \"../scene/selection\";\nimport { MarkerLabel } from \"./markerLabel\";\nimport { reactive, Observable } from \"../util/observable\";\nimport { getMarker } from \"./marker/util\";\nimport { createId } from \"../util/id\";\nexport var LegendOrientation;\n(function (LegendOrientation) {\n    LegendOrientation[LegendOrientation[\"Vertical\"] = 0] = \"Vertical\";\n    LegendOrientation[LegendOrientation[\"Horizontal\"] = 1] = \"Horizontal\";\n})(LegendOrientation || (LegendOrientation = {}));\nexport var LegendPosition;\n(function (LegendPosition) {\n    LegendPosition[\"Top\"] = \"top\";\n    LegendPosition[\"Right\"] = \"right\";\n    LegendPosition[\"Bottom\"] = \"bottom\";\n    LegendPosition[\"Left\"] = \"left\";\n})(LegendPosition || (LegendPosition = {}));\nvar LegendLabel = /** @class */ (function (_super) {\n    __extends(LegendLabel, _super);\n    function LegendLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.color = 'black';\n        _this.fontSize = 12;\n        _this.fontFamily = 'Verdana, sans-serif';\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], LegendLabel.prototype, \"color\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontStyle\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontWeight\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontSize\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontFamily\", void 0);\n    return LegendLabel;\n}(Observable));\nexport { LegendLabel };\nvar LegendMarker = /** @class */ (function (_super) {\n    __extends(LegendMarker, _super);\n    function LegendMarker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.size = 15;\n        /**\n         * Padding between the marker and the label within each legend item.\n         */\n        _this.padding = 8;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('layoutChange')\n    ], LegendMarker.prototype, \"size\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendMarker.prototype, \"shape\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendMarker.prototype, \"padding\", void 0);\n    __decorate([\n        reactive('change')\n    ], LegendMarker.prototype, \"strokeWidth\", void 0);\n    return LegendMarker;\n}(Observable));\nexport { LegendMarker };\nvar LegendItem = /** @class */ (function (_super) {\n    __extends(LegendItem, _super);\n    function LegendItem() {\n        var _this = _super.call(this) || this;\n        _this.marker = new LegendMarker();\n        _this.label = new LegendLabel();\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of horizontal\n         * padding between legend items.\n         */\n        _this.paddingX = 16;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of vertical\n         * padding between legend items.\n         */\n        _this.paddingY = 8;\n        var changeListener = function () { return _this.fireEvent({ type: 'change' }); };\n        _this.marker.addEventListener('change', changeListener);\n        _this.label.addEventListener('change', changeListener);\n        var layoutChangeListener = function () { return _this.fireEvent({ type: 'layoutChange' }); };\n        _this.marker.addEventListener('layoutChange', layoutChangeListener);\n        _this.label.addEventListener('layoutChange', layoutChangeListener);\n        return _this;\n    }\n    __decorate([\n        reactive('layoutChange')\n    ], LegendItem.prototype, \"paddingX\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendItem.prototype, \"paddingY\", void 0);\n    return LegendItem;\n}(Observable));\nexport { LegendItem };\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend() {\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.group = new Group();\n        _this.itemSelection = Selection.select(_this.group).selectAll();\n        _this.oldSize = [0, 0];\n        _this.item = new LegendItem();\n        _this.data = [];\n        _this.enabled = true;\n        _this.orientation = LegendOrientation.Vertical;\n        _this.position = LegendPosition.Right;\n        /**\n         * Spacing between the legend and the edge of the chart's element.\n         */\n        _this.spacing = 20;\n        _this._size = [0, 0];\n        _this.addPropertyListener('data', _this.onDataChange);\n        _this.addPropertyListener('enabled', _this.onEnabledChange);\n        _this.addPropertyListener('position', _this.onPositionChange);\n        _this.item.marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        _this.addEventListener('change', _this.update);\n        _this.item.addEventListener('change', function () { return _this.fireEvent({ type: 'change' }); });\n        _this.item.addEventListener('layoutChange', function () { return _this.fireEvent({ type: 'layoutChange' }); });\n        return _this;\n    }\n    Object.defineProperty(Legend.prototype, \"layoutHorizontalSpacing\", {\n        get: function () {\n            return this.item.paddingX;\n        },\n        /**\n         * @deprecated Please use {@link item.paddingX} instead.\n         */\n        set: function (value) {\n            this.item.paddingX = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"layoutVerticalSpacing\", {\n        get: function () {\n            return this.item.paddingY;\n        },\n        /**\n         * @deprecated Please use {@link item.paddingY} instead.\n         */\n        set: function (value) {\n            this.item.paddingY = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"itemSpacing\", {\n        get: function () {\n            return this.item.marker.padding;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.padding} instead.\n         */\n        set: function (value) {\n            this.item.marker.padding = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"markerShape\", {\n        get: function () {\n            return this.item.marker.shape;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.shape} instead.\n         */\n        set: function (value) {\n            this.item.marker.shape = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"markerSize\", {\n        get: function () {\n            return this.item.marker.size;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.size} instead.\n         */\n        set: function (value) {\n            this.item.marker.size = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.item.marker.strokeWidth;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.strokeWidth} instead.\n         */\n        set: function (value) {\n            this.item.marker.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"color\", {\n        get: function () {\n            return this.item.label.color;\n        },\n        /**\n         * @deprecated Please use {@link item.label.color} instead.\n         */\n        set: function (value) {\n            this.item.label.color = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontStyle\", {\n        get: function () {\n            return this.item.label.fontStyle;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontStyle} instead.\n         */\n        set: function (value) {\n            this.item.label.fontStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontWeight\", {\n        get: function () {\n            return this.item.label.fontWeight;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontWeight} instead.\n         */\n        set: function (value) {\n            this.item.label.fontWeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontSize\", {\n        get: function () {\n            return this.item.label.fontSize;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontSize} instead.\n         */\n        set: function (value) {\n            this.item.label.fontSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontFamily\", {\n        get: function () {\n            return this.item.label.fontFamily;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontFamily} instead.\n         */\n        set: function (value) {\n            this.item.label.fontFamily = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Legend.prototype.onDataChange = function (event) {\n        this.group.visible = event.value.length > 0 && this.enabled;\n    };\n    Legend.prototype.onEnabledChange = function (event) {\n        this.group.visible = event.value && this.data.length > 0;\n    };\n    Legend.prototype.onPositionChange = function (event) {\n        switch (event.value) {\n            case 'right':\n            case 'left':\n                this.orientation = LegendOrientation.Vertical;\n                break;\n            case 'bottom':\n            case 'top':\n                this.orientation = LegendOrientation.Horizontal;\n                break;\n        }\n    };\n    Legend.prototype.onMarkerShapeChange = function () {\n        this.itemSelection = this.itemSelection.setData([]);\n        this.itemSelection.exit.remove();\n    };\n    /**\n     * The method is given the desired size of the legend, which only serves as a hint.\n     * The vertically oriented legend will take as much horizontal space as needed, but will\n     * respect the height constraints, and the horizontal legend will take as much vertical\n     * space as needed in an attempt not to exceed the given width.\n     * After the layout is done, the {@link size} will contain the actual size of the legend.\n     * If the actual size is not the same as the previous actual size, the legend will fire\n     * the 'layoutChange' event to communicate that another layout is needed, and the above\n     * process should be repeated.\n     * @param width\n     * @param height\n     */\n    Legend.prototype.performLayout = function (width, height) {\n        var item = this.item;\n        var marker = item.marker, paddingX = item.paddingX, paddingY = item.paddingY;\n        var updateSelection = this.itemSelection.setData(this.data, function (_, datum) {\n            var MarkerShape = getMarker(marker.shape || datum.marker.shape);\n            return datum.id + '-' + datum.itemId + '-' + MarkerShape.name;\n        });\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(MarkerLabel).each(function (node, datum) {\n            var MarkerShape = getMarker(marker.shape || datum.marker.shape);\n            node.marker = new MarkerShape();\n        });\n        var itemSelection = this.itemSelection = updateSelection.merge(enterSelection);\n        var itemCount = itemSelection.size;\n        // Update properties that affect the size of the legend items and measure them.\n        var bboxes = [];\n        var itemMarker = this.item.marker;\n        var itemLabel = this.item.label;\n        itemSelection.each(function (markerLabel, datum) {\n            // TODO: measure only when one of these properties or data change (in a separate routine)\n            markerLabel.markerSize = itemMarker.size;\n            markerLabel.spacing = itemMarker.padding;\n            markerLabel.fontStyle = itemLabel.fontStyle;\n            markerLabel.fontWeight = itemLabel.fontWeight;\n            markerLabel.fontSize = itemLabel.fontSize;\n            markerLabel.fontFamily = itemLabel.fontFamily;\n            markerLabel.text = datum.label.text;\n            bboxes.push(markerLabel.computeBBox());\n        });\n        var itemHeight = bboxes.length && bboxes[0].height;\n        var rowCount = 0;\n        var columnWidth = 0;\n        var paddedItemsWidth = 0;\n        var paddedItemsHeight = 0;\n        switch (this.orientation) {\n            case LegendOrientation.Horizontal:\n                if (!(isFinite(width) && width > 0)) {\n                    return false;\n                }\n                rowCount = 0;\n                var columnCount = 0;\n                // Split legend items into columns until the width is suitable.\n                do {\n                    var itemsWidth = 0;\n                    columnCount = 0;\n                    columnWidth = 0;\n                    rowCount++;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount - 1) * paddingX;\n                } while (paddedItemsWidth > width && columnCount > 1);\n                paddedItemsHeight = itemHeight * rowCount + (rowCount - 1) * paddingY;\n                break;\n            case LegendOrientation.Vertical:\n                if (!(isFinite(height) && height > 0)) {\n                    return false;\n                }\n                rowCount = itemCount * 2;\n                // Split legend items into columns until the height is suitable.\n                do {\n                    rowCount = (rowCount >> 1) + (rowCount % 2);\n                    columnWidth = 0;\n                    var itemsWidth = 0;\n                    var itemsHeight = 0;\n                    var columnCount_1 = 0;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (!columnCount_1) {\n                            itemsHeight += bbox.height;\n                        }\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount_1++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount_1++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount_1 - 1) * paddingX;\n                    paddedItemsHeight = itemsHeight + (rowCount - 1) * paddingY;\n                } while (paddedItemsHeight > height && rowCount > 1);\n                break;\n        }\n        // Top-left corner of the first legend item.\n        var startX = (width - paddedItemsWidth) / 2;\n        var startY = (height - paddedItemsHeight) / 2;\n        var x = 0;\n        var y = 0;\n        columnWidth = 0;\n        // Position legend items using the layout computed above.\n        itemSelection.each(function (markerLabel, datum, i) {\n            // Round off for pixel grid alignment to work properly.\n            markerLabel.translationX = Math.floor(startX + x);\n            markerLabel.translationY = Math.floor(startY + y);\n            var bbox = bboxes[i];\n            if (bbox.width > columnWidth) {\n                columnWidth = bbox.width;\n            }\n            if ((i + 1) % rowCount === 0) {\n                x += columnWidth + paddingX;\n                y = 0;\n                columnWidth = 0;\n            }\n            else {\n                y += bbox.height + paddingY;\n            }\n        });\n        // Update legend item properties that don't affect the layout.\n        this.update();\n        var size = this._size;\n        var oldSize = this.oldSize;\n        size[0] = paddedItemsWidth;\n        size[1] = paddedItemsHeight;\n        if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n            oldSize[0] = size[0];\n            oldSize[1] = size[1];\n        }\n    };\n    Legend.prototype.update = function () {\n        var _this = this;\n        this.itemSelection.each(function (markerLabel, datum) {\n            var marker = datum.marker;\n            markerLabel.markerFill = marker.fill;\n            markerLabel.markerStroke = marker.stroke;\n            markerLabel.markerStrokeWidth = _this.item.marker.strokeWidth;\n            markerLabel.markerFillOpacity = marker.fillOpacity;\n            markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n            markerLabel.opacity = datum.enabled ? 1 : 0.5;\n            markerLabel.color = _this.color;\n        });\n    };\n    Legend.prototype.getDatumForPoint = function (x, y) {\n        var node = this.group.pickNode(x, y);\n        if (node && node.parent) {\n            return node.parent.datum;\n        }\n    };\n    Legend.className = 'Legend';\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"data\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"orientation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"position\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"spacing\", void 0);\n    return Legend;\n}(Observable));\nexport { Legend };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}